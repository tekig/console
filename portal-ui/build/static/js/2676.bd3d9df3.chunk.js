"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[2676],{5450:function(n,e,t){var a=t(29439),r=t(72791),o=t(11135),i=t(25787),s=t(40986),c=t(79836),l=t(53382),d=t(53994),u=t(56890),p=t(35855),h=t(64554),Z=t(56125),f=t(20890),v=t(85172),m=t(95678),x=t(39281),g=t(10703),j=t(80184),b=function(n){var e=n.event,t=r.useState(!1),o=(0,a.Z)(t,2),i=o[0],s=o[1];return(0,j.jsxs)(r.Fragment,{children:[(0,j.jsxs)(p.Z,{sx:{"& > *":{borderBottom:"unset"},cursor:"pointer"},children:[(0,j.jsx)(d.Z,{component:"th",scope:"row",onClick:function(){return s(!i)},children:e.event_type}),(0,j.jsx)(d.Z,{onClick:function(){return s(!i)},children:e.reason}),(0,j.jsx)(d.Z,{onClick:function(){return s(!i)},children:e.seen}),(0,j.jsx)(d.Z,{onClick:function(){return s(!i)},children:e.message.length>=30?"".concat(e.message.slice(0,30),"..."):e.message}),(0,j.jsx)(d.Z,{onClick:function(){return s(!i)},children:i?(0,j.jsx)(m.Z,{}):(0,j.jsx)(v.Z,{})})]}),(0,j.jsx)(p.Z,{children:(0,j.jsx)(d.Z,{style:{paddingBottom:0,paddingTop:0},colSpan:5,children:(0,j.jsx)(Z.Z,{in:i,timeout:"auto",unmountOnExit:!0,children:(0,j.jsx)(h.Z,{sx:{margin:1},children:(0,j.jsx)(f.Z,{style:{background:"#efefef",border:"1px solid #dedede",padding:4,fontSize:14,color:"#666666"},children:e.message})})})})})]})};e.Z=(0,i.Z)((function(n){return(0,o.Z)({events:{"& .MuiTypography-root":{fontSize:14},"& .Mui-expanded":{"& .eventMessage":{display:"none"}}}})}))((function(n){n.classes;var e=n.events;return n.loading?(0,j.jsx)(s.Z,{}):(0,j.jsx)(x.Z,{component:g.Z,children:(0,j.jsxs)(c.Z,{"aria-label":"collapsible table",children:[(0,j.jsx)(u.Z,{children:(0,j.jsxs)(p.Z,{children:[(0,j.jsx)(d.Z,{children:"Type"}),(0,j.jsx)(d.Z,{children:"Reason"}),(0,j.jsx)(d.Z,{children:"Age"}),(0,j.jsx)(d.Z,{children:"Message"}),(0,j.jsx)(d.Z,{})]})}),(0,j.jsx)(l.Z,{children:e.map((function(n){return(0,j.jsx)(b,{event:n},"".concat(n.event_type,"-").concat(n.seen))}))})]})})}))},92676:function(n,e,t){t.r(e),t.d(e,{default:function(){return P}});var a=t(29439),r=t(1413),o=t(72791),i=t(11135),s=t(25787),c=t(23814),l=t(61889),d=t(18073),u=t(43896),p=t(91523),h=t(60364),Z=t(5171),f=t(27391),v=t(10703),m=t(63466),x=t(81207),g=t(74900),j=t(42649),b=t(80184),w=(0,h.$j)((function(n){return{loadingTenant:n.tenants.tenantDetails.loadingTenant}}),{setErrorSnackMessage:j.Ih}),E=(0,s.Z)((function(n){return(0,i.Z)((0,r.Z)((0,r.Z)((0,r.Z)({logList:{background:"#fff",minHeight:400,height:"calc(100vh - 304px)",overflow:"auto",fontSize:13,padding:"25px 45px 0",border:"1px solid #EAEDEE",borderRadius:4}},c.Si),c.qg),{},{actionsTray:(0,r.Z)((0,r.Z)({},c.OR.actionsTray),{},{padding:"15px 0 0"}),logerror_tab:{color:"#A52A2A",paddingLeft:25},ansidefault:{color:"#000",lineHeight:"16px"},highlight:{"& span":{backgroundColor:"#082F5238"}}},(0,c.Bz)(n.spacing(4))))}))(w((function(n){var e=n.classes,t=n.tenant,i=n.namespace,s=n.podName,c=n.propLoading,d=n.setErrorSnackMessage,u=n.loadingTenant,p=(0,o.useState)(""),h=(0,a.Z)(p,2),j=h[0],w=h[1],E=(0,o.useState)([]),y=(0,a.Z)(E,2),S=y[0],T=y[1],N=(0,o.useState)(!0),P=(0,a.Z)(N,2),k=P[0],L=P[1],M=new Z.t1({minWidth:5,fixedHeight:!1});(0,o.useEffect)((function(){c&&L(!0)}),[c]),(0,o.useEffect)((function(){u&&L(!0)}),[u]);var C=function(n,t){if(!n)return null;var a=(n=n.replace(/([^\x20-\x7F])/g,"")).replace(/((\[[0-9;]+m))/g,""),r=""!==j&&n.toLowerCase().includes(j.toLowerCase());return a.startsWith("   ")?(0,b.jsx)("div",{className:"".concat(r?e.highlight:""),children:(0,b.jsx)("span",{className:e.tab,children:a})},t):(0,b.jsx)("div",{className:"".concat(r?e.highlight:""),children:(0,b.jsx)("span",{className:e.ansidefault,children:a})},t)};function R(n){var e=n.columnIndex,t=n.key,a=n.parent,o=n.index,i=n.style;return(0,b.jsx)(Z.Z8,{cache:M,columnIndex:e,parent:a,rowIndex:o,children:(0,b.jsx)("div",{style:(0,r.Z)({},i),children:C(S[o],o)})},t)}return(0,o.useEffect)((function(){k&&x.Z.invoke("GET","/api/v1/namespaces/".concat(i,"/tenants/").concat(t,"/pods/").concat(s)).then((function(n){T(n.split("\n")),L(!1)})).catch((function(n){d(n),L(!1)}))}),[k,s,i,t,d]),(0,b.jsxs)(o.Fragment,{children:[(0,b.jsx)(l.ZP,{item:!0,xs:12,className:e.actionsTray,children:(0,b.jsx)(f.Z,{placeholder:"Highlight Line",className:e.searchField,id:"search-resource",label:"",onChange:function(n){w(n.target.value)},InputProps:{disableUnderline:!0,startAdornment:(0,b.jsx)(m.Z,{position:"start",children:(0,b.jsx)(g.Z,{})})},variant:"standard"})}),(0,b.jsx)(l.ZP,{item:!0,xs:12,children:(0,b.jsx)("br",{})}),(0,b.jsx)(l.ZP,{item:!0,xs:12,children:(0,b.jsx)(v.Z,{children:(0,b.jsx)("div",{className:e.logList,children:S.length>=1&&(0,b.jsx)(Z.qj,{children:function(n){var e=n.width,t=n.height;return(0,b.jsx)(Z.aV,{rowHeight:function(n){return M.rowHeight(n)},overscanRowCount:15,rowCount:S.length,rowRenderer:R,width:e,height:t})}})})})})]})}))),y=t(45248),S=t(5450),T=(0,h.$j)((function(n){return{loadingTenant:n.tenants.tenantDetails.loadingTenant}}),{setErrorSnackMessage:j.Ih}),N=(0,s.Z)((function(n){return(0,i.Z)((0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)({},c.OR),c.Si),c.qg),c.bp),{},{actionsTray:(0,r.Z)((0,r.Z)({},c.OR.actionsTray),{},{padding:"15px 0 0"})}))}))(T((function(n){n.classes;var e=n.tenant,t=n.namespace,r=n.podName,i=n.propLoading,s=n.setErrorSnackMessage,c=n.loadingTenant,d=(0,o.useState)([]),u=(0,a.Z)(d,2),p=u[0],h=u[1],Z=(0,o.useState)(!0),f=(0,a.Z)(Z,2),v=f[0],m=f[1];return(0,o.useEffect)((function(){i&&m(!0)}),[i]),(0,o.useEffect)((function(){c&&m(!0)}),[c]),(0,o.useEffect)((function(){v&&x.Z.invoke("GET","/api/v1/namespaces/".concat(t,"/tenants/").concat(e,"/pods/").concat(r,"/events")).then((function(n){for(var e=0;e<n.length;e++){var t=Date.now()/1e3|0;n[e].seen=(0,y.v1)((t-n[e].last_seen).toString())}h(n),m(!1)})).catch((function(n){s(n),m(!1)}))}),[v,r,t,e,s]),(0,b.jsx)(o.Fragment,{children:(0,b.jsx)(l.ZP,{item:!0,xs:12,children:(0,b.jsx)(S.Z,{events:p,loading:v})})})}))),P=(0,s.Z)((function(n){return(0,i.Z)((0,r.Z)({breadcrumLink:{textDecoration:"none",color:"black"}},(0,c.Bz)(n.spacing(4))))}))((function(n){var e=n.classes,t=n.match,i=(0,o.useState)(0),s=(0,a.Z)(i,2),c=s[0],h=s[1],Z=(0,o.useState)(!0),f=(0,a.Z)(Z,2),v=f[0],m=f[1],x=t.params.tenantNamespace,g=t.params.tenantName,j=t.params.podName;function w(n){return{id:"simple-tab-".concat(n),"aria-controls":"simple-tabpanel-".concat(n)}}return(0,o.useEffect)((function(){v&&m(!1)}),[v]),(0,b.jsxs)(o.Fragment,{children:[(0,b.jsx)(l.ZP,{item:!0,xs:12,children:(0,b.jsxs)("h1",{className:e.sectionTitle,children:[(0,b.jsx)(p.rU,{to:"/namespaces/".concat(x,"/tenants/").concat(g,"/pods"),className:e.breadcrumLink,children:"Pods"})," ","> ",j]})}),(0,b.jsxs)(l.ZP,{container:!0,children:[(0,b.jsx)(l.ZP,{item:!0,xs:9,children:(0,b.jsxs)(d.Z,{value:c,onChange:function(n,e){h(e)},indicatorColor:"primary",textColor:"primary","aria-label":"cluster-tabs",variant:"scrollable",scrollButtons:"auto",children:[(0,b.jsx)(u.Z,(0,r.Z)({label:"Events"},w(0))),(0,b.jsx)(u.Z,(0,r.Z)({label:"Logs"},w(1)))]})}),0===c&&(0,b.jsx)(N,{tenant:g,namespace:x,podName:j,propLoading:v}),1===c&&(0,b.jsx)(E,{tenant:g,namespace:x,podName:j,propLoading:v})]})]})}))},85172:function(n,e,t){var a=t(95318);e.Z=void 0;var r=a(t(45649)),o=t(80184),i=(0,r.default)((0,o.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");e.Z=i},95678:function(n,e,t){var a=t(95318);e.Z=void 0;var r=a(t(45649)),o=t(80184),i=(0,r.default)((0,o.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");e.Z=i},63466:function(n,e,t){t.d(e,{Z:function(){return w}});var a=t(4942),r=t(63366),o=t(87462),i=t(72791),s=t(28182),c=t(90767),l=t(14036),d=t(20890),u=t(93840),p=t(52930),h=t(47630),Z=t(95159);function f(n){return(0,Z.Z)("MuiInputAdornment",n)}var v,m=(0,t(30208).Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),x=t(93736),g=t(80184),j=["children","className","component","disablePointerEvents","disableTypography","position","variant"],b=(0,h.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:function(n,e){var t=n.ownerState;return[e.root,e["position".concat((0,l.Z)(t.position))],!0===t.disablePointerEvents&&e.disablePointerEvents,e[t.variant]]}})((function(n){var e=n.theme,t=n.ownerState;return(0,o.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:e.palette.action.active},"filled"===t.variant&&(0,a.Z)({},"&.".concat(m.positionStart,"&:not(.").concat(m.hiddenLabel,")"),{marginTop:16}),"start"===t.position&&{marginRight:8},"end"===t.position&&{marginLeft:8},!0===t.disablePointerEvents&&{pointerEvents:"none"})})),w=i.forwardRef((function(n,e){var t=(0,x.Z)({props:n,name:"MuiInputAdornment"}),a=t.children,h=t.className,Z=t.component,m=void 0===Z?"div":Z,w=t.disablePointerEvents,E=void 0!==w&&w,y=t.disableTypography,S=void 0!==y&&y,T=t.position,N=t.variant,P=(0,r.Z)(t,j),k=(0,p.Z)()||{},L=N;N&&k.variant,k&&!L&&(L=k.variant);var M=(0,o.Z)({},t,{hiddenLabel:k.hiddenLabel,size:k.size,disablePointerEvents:E,position:T,variant:L}),C=function(n){var e=n.classes,t=n.disablePointerEvents,a=n.hiddenLabel,r=n.position,o=n.size,i=n.variant,s={root:["root",t&&"disablePointerEvents",r&&"position".concat((0,l.Z)(r)),i,a&&"hiddenLabel",o&&"size".concat((0,l.Z)(o))]};return(0,c.Z)(s,f,e)}(M);return(0,g.jsx)(u.Z.Provider,{value:null,children:(0,g.jsx)(b,(0,o.Z)({as:m,ownerState:M,className:(0,s.Z)(C.root,h),ref:e},P,{children:"string"!==typeof a||S?(0,g.jsxs)(i.Fragment,{children:["start"===T?v||(v=(0,g.jsx)("span",{className:"notranslate",children:"\u200b"})):null,a]}):(0,g.jsx)(d.Z,{color:"text.secondary",children:a})}))})}))},39281:function(n,e,t){t.d(e,{Z:function(){return f}});var a=t(87462),r=t(63366),o=t(72791),i=t(28182),s=t(90767),c=t(93736),l=t(47630),d=t(95159);function u(n){return(0,d.Z)("MuiTableContainer",n)}(0,t(30208).Z)("MuiTableContainer",["root"]);var p=t(80184),h=["className","component"],Z=(0,l.ZP)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:function(n,e){return e.root}})({width:"100%",overflowX:"auto"}),f=o.forwardRef((function(n,e){var t=(0,c.Z)({props:n,name:"MuiTableContainer"}),o=t.className,l=t.component,d=void 0===l?"div":l,f=(0,r.Z)(t,h),v=(0,a.Z)({},t,{component:d}),m=function(n){var e=n.classes;return(0,s.Z)({root:["root"]},u,e)}(v);return(0,p.jsx)(Z,(0,a.Z)({ref:e,as:d,className:(0,i.Z)(m.root,o),ownerState:v},f))}))},56890:function(n,e,t){t.d(e,{Z:function(){return x}});var a=t(87462),r=t(63366),o=t(72791),i=t(28182),s=t(90767),c=t(829),l=t(93736),d=t(47630),u=t(95159);function p(n){return(0,u.Z)("MuiTableHead",n)}(0,t(30208).Z)("MuiTableHead",["root"]);var h=t(80184),Z=["className","component"],f=(0,d.ZP)("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:function(n,e){return e.root}})({display:"table-header-group"}),v={variant:"head"},m="thead",x=o.forwardRef((function(n,e){var t=(0,l.Z)({props:n,name:"MuiTableHead"}),o=t.className,d=t.component,u=void 0===d?m:d,x=(0,r.Z)(t,Z),g=(0,a.Z)({},t,{component:u}),j=function(n){var e=n.classes;return(0,s.Z)({root:["root"]},p,e)}(g);return(0,h.jsx)(c.Z.Provider,{value:v,children:(0,h.jsx)(f,(0,a.Z)({as:u,className:(0,i.Z)(j.root,o),ref:e,role:u===m?null:"rowgroup",ownerState:g},x))})}))}}]);
//# sourceMappingURL=2676.bd3d9df3.chunk.js.map