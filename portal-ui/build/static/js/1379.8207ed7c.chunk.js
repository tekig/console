"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[1379],{45902:function(e,n,t){var s=t(1413),o=(t(72791),t(53767)),l=t(80184);n.Z=function(e){var n=e.label,t=void 0===n?null:n,i=e.value,a=void 0===i?"-":i,r=e.orientation,c=void 0===r?"column":r,u=e.stkProps,d=void 0===u?{}:u,x=e.lblProps,f=void 0===x?{}:x,m=e.valProps,p=void 0===m?{}:m;return(0,l.jsxs)(o.Z,(0,s.Z)((0,s.Z)({direction:{xs:"column",sm:c}},d),{},{children:[(0,l.jsx)("label",(0,s.Z)((0,s.Z)({style:{marginRight:5,fontWeight:600}},f),{},{children:t})),(0,l.jsx)("label",(0,s.Z)((0,s.Z)({style:{marginRight:5,fontWeight:500}},p),{},{children:a}))]}))}},51379:function(e,n,t){t.r(n),t.d(n,{default:function(){return w}});var s=t(1413),o=t(72791),l=t(60364),i=t(11135),a=t(25787),r=t(23814),c=t(61889),u=t(42649),d=t(75460),x=t(29439),f=t(27391),m=t(63466),p=t(74900),j=t(40603),Z=t(93656),h=t(92983),v=t(80184),g=(0,l.$j)((function(e){return{loadingTenant:e.tenants.tenantDetails.loadingTenant,selectedTenant:e.tenants.tenantDetails.currentTenant,tenant:e.tenants.tenantDetails.tenantInfo}}),{setErrorSnackMessage:u.Ih,setSelectedPool:d.Lm}),y=(0,a.Z)((function(e){return(0,i.Z)((0,s.Z)((0,s.Z)((0,s.Z)((0,s.Z)({},r.oZ),r.OR),r.VX),(0,r.Bz)(e.spacing(4))))}))(g((function(e){var n=e.classes,t=e.tenant,s=e.loadingTenant,l=e.setSelectedPool,i=e.history,a=e.setPoolDetailsView,r=(0,o.useState)([]),u=(0,x.Z)(r,2),d=u[0],g=u[1],y=(0,o.useState)(""),b=(0,x.Z)(y,2),P=b[0],C=b[1];(0,o.useEffect)((function(){if(t){var e=t.pools?t.pools:[];g(e)}}),[t]);var A=d.filter((function(e){return!!e.name.toLowerCase().includes(P.toLowerCase())})),D=[{type:"view",onClick:function(e){l(e.name),a()}}];return(0,v.jsxs)(o.Fragment,{children:[(0,v.jsxs)(c.ZP,{item:!0,xs:12,className:n.actionsTray,children:[(0,v.jsx)(f.Z,{placeholder:"Filter",className:n.searchField,id:"search-resource",label:"",onChange:function(e){C(e.target.value)},InputProps:{disableUnderline:!0,startAdornment:(0,v.jsx)(m.Z,{position:"start",children:(0,v.jsx)(p.Z,{})})},variant:"standard"}),(0,v.jsx)(j.Z,{tooltip:"Expand Tenant",text:"Expand Tenant",onClick:function(){i.push("/namespaces/".concat((null===t||void 0===t?void 0:t.namespace)||"","/tenants/").concat((null===t||void 0===t?void 0:t.name)||"","/add-pool"))},icon:(0,v.jsx)(Z.dt,{}),color:"primary",variant:"contained"})]}),(0,v.jsx)(c.ZP,{item:!0,xs:12,className:n.tableBlock,children:(0,v.jsx)(h.Z,{itemActions:D,columns:[{label:"Name",elementKey:"name"},{label:"Capacity",elementKey:"capacity"},{label:"# of Instances",elementKey:"servers"},{label:"# of Drives",elementKey:"volumes"}],isLoading:s,records:A,entityName:"Servers",idField:"name",customEmptyMessage:"No Pools found"})})]})}))),b=t(64554),P=t(45902),C=t(45248),A=t(45987),D=t(53767),T=["children"],k=function(e){var n=e.children,t=void 0===n?null:n,o=(0,A.Z)(e,T);return(0,v.jsx)(D.Z,(0,s.Z)((0,s.Z)({direction:{xs:"column",sm:"row"},justifyContent:"space-between",margin:"5px 0 5px 0",spacing:{xs:1,sm:2,md:4}},o),{},{children:t}))},S={border:"#EAEAEA 1px solid",borderRadius:"3px",padding:"0px 20px",position:"relative"},N={display:"grid",gridTemplateColumns:{xs:"1fr",sm:"2fr 1fr"},gridAutoFlow:{xs:"dense",sm:"row"},gap:2,padding:"15px"},E=(0,l.$j)((function(e){return{loadingTenant:e.tenants.tenantDetails.loadingTenant,selectedTenant:e.tenants.tenantDetails.currentTenant,tenant:e.tenants.tenantDetails.tenantInfo,selectedPool:e.tenants.tenantDetails.selectedPool}}),{setErrorSnackMessage:u.Ih,setTenantDetailsLoad:d.V2}),F=(0,a.Z)((function(e){return(0,i.Z)((0,s.Z)((0,s.Z)((0,s.Z)((0,s.Z)((0,s.Z)({},r.bK),r.VI),r.oZ),r.VX),(0,r.Bz)(e.spacing(4))))}))(E((function(e){var n,t,l,i=e.tenant,a=e.selectedPool,r=e.history,u=(null===i||void 0===i?void 0:i.pools.find((function(e){return e.name===a})))||null;if(null===u)return null;var d="None";u.affinity&&(d=u.affinity.nodeAffinity?"Node Selector":"Default (Pod Anti-Affinity)");var x=function(e){var n=e.title;return(0,v.jsx)(k,{sx:{borderBottom:"1px solid #eaeaea",margin:0,marginBottom:"20px"},children:(0,v.jsx)("h3",{children:n})})};return(0,v.jsx)(o.Fragment,{children:(0,v.jsxs)(c.ZP,{item:!0,xs:12,sx:(0,s.Z)({},S),children:[(0,v.jsx)("div",{style:{position:"absolute",right:20,top:18},children:(0,v.jsx)(j.Z,{icon:(0,v.jsx)(Z.Jp,{}),onClick:function(){r.push("/namespaces/".concat((null===i||void 0===i?void 0:i.namespace)||"","/tenants/").concat((null===i||void 0===i?void 0:i.name)||"","/edit-pool"))},text:"Edit Pool",id:"editPool"})}),(0,v.jsx)(x,{title:"Pool Configuration"}),(0,v.jsxs)(b.Z,{sx:(0,s.Z)({},N),children:[(0,v.jsx)(P.Z,{label:"Pool Name",value:u.name}),(0,v.jsx)(P.Z,{label:"Total Volumes",value:u.volumes}),(0,v.jsx)(P.Z,{label:"Volumes per server",value:u.volumes_per_server}),(0,v.jsx)(P.Z,{label:"Capacity",value:u.capacity})]}),(0,v.jsx)(x,{title:"Resources"}),(0,v.jsxs)(b.Z,{sx:(0,s.Z)({},N),children:[u.resources&&(0,v.jsxs)(o.Fragment,{children:[(0,v.jsx)(P.Z,{label:"CPU",value:u.resources.requests.cpu}),(0,v.jsx)(P.Z,{label:"Memory",value:(0,C.l5)(u.resources.requests.memory)})]}),(0,v.jsx)(P.Z,{label:"Volume Size",value:(0,C.l5)(u.volume_configuration.size)}),(0,v.jsx)(P.Z,{label:"Storage Class Name",value:u.volume_configuration.storage_class_name})]}),u.securityContext&&(u.securityContext.runAsNonRoot||u.securityContext.runAsUser||u.securityContext.runAsGroup||u.securityContext.fsGroup)&&(0,v.jsxs)(o.Fragment,{children:[(0,v.jsx)(x,{title:"Security Context"}),(0,v.jsxs)(b.Z,{children:[null!==u.securityContext.runAsNonRoot&&(0,v.jsx)(b.Z,{sx:(0,s.Z)({},N),children:(0,v.jsx)(P.Z,{label:"Run as Non Root",value:u.securityContext.runAsNonRoot?"Yes":"No"})}),(0,v.jsxs)(b.Z,{sx:(0,s.Z)((0,s.Z)({},N),{},{gridTemplateColumns:{xs:"1fr",sm:"2fr 1fr",md:"1fr 1fr 1fr"}}),children:[u.securityContext.runAsUser&&(0,v.jsx)(P.Z,{label:"Run as User",value:u.securityContext.runAsUser}),u.securityContext.runAsGroup&&(0,v.jsx)(P.Z,{label:"Run as Group",value:u.securityContext.runAsGroup}),u.securityContext.fsGroup&&(0,v.jsx)(P.Z,{label:"FsGroup",value:u.securityContext.fsGroup})]})]})]}),(0,v.jsx)(x,{title:"Affinity"}),(0,v.jsxs)(b.Z,{children:[(0,v.jsxs)(b.Z,{sx:(0,s.Z)({},N),children:[(0,v.jsx)(P.Z,{label:"Type",value:d}),null!==(n=u.affinity)&&void 0!==n&&n.nodeAffinity&&null!==(t=u.affinity)&&void 0!==t&&t.podAntiAffinity?(0,v.jsx)(P.Z,{label:"With Pod Anti affinity",value:"Yes"}):(0,v.jsx)("span",{})]}),(null===(l=u.affinity)||void 0===l?void 0:l.nodeAffinity)&&(0,v.jsxs)(o.Fragment,{children:[(0,v.jsx)(x,{title:"Labels"}),(0,v.jsx)("ul",{children:u.affinity.nodeAffinity.requiredDuringSchedulingIgnoredDuringExecution.nodeSelectorTerms.map((function(e){return e.matchExpressions.map((function(e){return(0,v.jsxs)("li",{children:[e.key," - ",e.values.join(", ")]})}))}))})]})]}),u.tolerations&&u.tolerations.length>0&&(0,v.jsxs)(o.Fragment,{children:[(0,v.jsx)(x,{title:"Tolerations"}),(0,v.jsx)(b.Z,{children:(0,v.jsx)("ul",{children:u.tolerations.map((function(e){var n,t;return(0,v.jsx)("li",{children:"Equal"===e.operator?(0,v.jsxs)(o.Fragment,{children:["If ",(0,v.jsx)("strong",{children:e.key})," is equal to"," ",(0,v.jsx)("strong",{children:e.value})," then"," ",(0,v.jsx)("strong",{children:e.effect})," after"," ",(0,v.jsx)("strong",{children:(null===(n=e.tolerationSeconds)||void 0===n?void 0:n.seconds)||0})," ","seconds"]}):(0,v.jsxs)(o.Fragment,{children:["If ",(0,v.jsx)("strong",{children:e.key})," exists then"," ",(0,v.jsx)("strong",{children:e.effect})," after"," ",(0,v.jsx)("strong",{children:(null===(t=e.tolerationSeconds)||void 0===t?void 0:t.seconds)||0})," ","seconds"]})})}))})})]})]})})}))),R=t(84669),I=(0,l.$j)((function(e){return{loadingTenant:e.tenants.tenantDetails.loadingTenant,selectedTenant:e.tenants.tenantDetails.currentTenant,selectedPool:e.tenants.tenantDetails.selectedPool,tenant:e.tenants.tenantDetails.tenantInfo,poolDetailsOpen:e.tenants.tenantDetails.poolDetailsOpen}}),{setErrorSnackMessage:u.Ih,setTenantDetailsLoad:d.V2,setSelectedPool:d.Lm,setOpenPoolDetails:d.AH}),w=(0,a.Z)((function(e){return(0,i.Z)((0,s.Z)((0,s.Z)((0,s.Z)((0,s.Z)({},r.oZ),r.OR),r.VX),(0,r.Bz)(e.spacing(4))))}))(I((function(e){var n=e.classes,t=e.history,s=e.selectedPool,l=e.match,i=e.poolDetailsOpen,a=e.setOpenPoolDetails;return(0,v.jsxs)(o.Fragment,{children:[i&&(0,v.jsx)(c.ZP,{item:!0,xs:12,children:(0,v.jsx)(R.Z,{executeOnClick:function(){a(!1)},label:"Back to Pools list",to:l.url})}),(0,v.jsx)("h1",{className:n.sectionTitle,children:i?"Pool Details - ".concat(s||""):"Pools"}),(0,v.jsx)(c.ZP,{container:!0,children:i?(0,v.jsx)(F,{history:t}):(0,v.jsx)(y,{setPoolDetailsView:function(){a(!0)},history:t})})]})})))}}]);
//# sourceMappingURL=1379.8207ed7c.chunk.js.map