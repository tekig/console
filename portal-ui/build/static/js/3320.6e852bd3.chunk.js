"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[3320],{92217:function(e,o,n){var t=n(93433),a=n(29439),r=n(1413),i=n(72791),c=n(61889),l=(n(2574),n(69874)),s=n(9461),d=n(73975),u=n(80745),m=n(30829),f=n(20068),x=n(64554),p=n(11135),g=n(25787),h=n(84570),Z=n(23814),b=n(93656),j=n(40603),k=n(78029),C=n.n(k),v=n(64294),y=n(80184),S={json:d.AV,yaml:function(){return s.i.define(u.r)}},B=v.tk.theme({"&":{backgroundColor:"#FBFAFA"},".cm-content":{caretColor:"#05122B"},"&.cm-focused .cm-cursor":{borderLeftColor:"#05122B"},".cm-gutters":{backgroundColor:"#FBFAFA",color:"#000000",border:"none"},".cm-gutter.cm-foldGutter":{borderRight:"1px solid #eaeaea"},".cm-gutterElement":{fontSize:"13px"},".cm-line":{fontSize:"13px",color:"#2781B0","& .\u037cc":{color:"#C83B51"}},"& .\u037cb":{color:"#2781B0"},".cm-activeLine":{backgroundColor:"#dde1f1"},".cm-matchingBracket":{backgroundColor:"#05122B",color:"#ffffff"},".cm-selectionMatch":{backgroundColor:"#ebe7f1"},".cm-selectionLayer":{fontWeight:500}," .cm-selectionBackground":{backgroundColor:"#a180c7",color:"#ffffff"}},{dark:!1}),N=v.tk.theme({"&":{backgroundColor:"#282a36",color:"#ffb86c"},".cm-gutter.cm-foldGutter":{borderRight:"1px solid #eaeaea"},".cm-gutterElement":{fontSize:"13px"},".cm-line":{fontSize:"13px","& .\u037cd, & .\u037cc":{color:"#8e6cef"}},"& .\u037cb":{color:"#2781B0"},".cm-activeLine":{backgroundColor:"#44475a"},".cm-matchingBracket":{backgroundColor:"#842de5",color:"#ff79c6"},".cm-selectionLayer .cm-selectionBackground":{backgroundColor:"green"}},{dark:!0});o.Z=(0,g.Z)((function(e){return(0,p.Z)((0,r.Z)({},Z.YI))}))((function(e){var o=e.value,n=e.label,r=void 0===n?"":n,s=e.tooltip,d=void 0===s?"":s,u=e.mode,p=void 0===u?"json":u,g=e.classes,Z=e.onBeforeChange,k=e.readOnly,v=void 0!==k&&k,M=e.editorHeight,P=void 0===M?"250px":M,F=(0,i.useState)(!1),E=(0,a.Z)(F,2),z=E[0],L=E[1],w=[];return S[p]&&(w=[].concat((0,t.Z)(w),[S[p]()])),(0,y.jsxs)(i.Fragment,{children:[(0,y.jsxs)(m.Z,{className:g.inputLabel,children:[(0,y.jsx)("span",{children:r}),""!==d&&(0,y.jsx)("div",{className:g.tooltipContainer,children:(0,y.jsx)(f.Z,{title:d,placement:"top-start",children:(0,y.jsx)("div",{className:g.tooltip,children:(0,y.jsx)(h.Z,{})})})})]}),(0,y.jsx)(c.ZP,{item:!0,xs:12,children:(0,y.jsx)("br",{})}),(0,y.jsxs)(c.ZP,{item:!0,xs:12,sx:{border:"1px solid #eaeaea"},children:[(0,y.jsx)(c.ZP,{item:!0,xs:12,children:(0,y.jsx)(l.ZP,{value:o,theme:z?N:B,extensions:w,editable:!v,basicSetup:!0,height:P,onChange:function(e,o){Z(null,null,e)}})}),(0,y.jsx)(c.ZP,{item:!0,xs:12,sx:{borderTop:"1px solid #eaeaea",background:z?"#282c34":"#f7f7f7"},children:(0,y.jsxs)(x.Z,{className:z?"dark-theme":"",sx:{display:"flex",alignItems:"center",padding:"2px",paddingRight:"5px",justifyContent:"flex-end","& button":{height:"26px",width:"26px",padding:"2px"," .min-icon":{marginLeft:"0"}},"&.dark-theme button":{background:"#FFFFFF"}},children:[(0,y.jsx)(j.Z,{tooltip:"Change theme",onClick:function(){L(!z)},text:"",icon:(0,y.jsx)(b.EO,{}),color:"primary",variant:"outlined"}),(0,y.jsx)(C(),{text:o,children:(0,y.jsx)(j.Z,{tooltip:"Copy to Clipboard",onClick:function(){},text:"",icon:(0,y.jsx)(b.TI,{}),color:"primary",variant:"outlined"})})]})})]})]})}))},56028:function(e,o,n){var t=n(29439),a=n(1413),r=n(72791),i=n(60364),c=n(13400),l=n(55646),s=n(5574),d=n(65661),u=n(39157),m=n(11135),f=n(25787),x=n(23814),p=n(42649),g=n(29823),h=n(28057),Z=n(80184),b=(0,i.$j)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),{setModalSnackMessage:p.MK});o.Z=(0,f.Z)((function(e){return(0,m.Z)((0,a.Z)((0,a.Z)({},x.Qw),{},{content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765}},x.sN))}))(b((function(e){var o=e.onClose,n=e.modalOpen,i=e.title,m=e.children,f=e.classes,x=e.wideLimit,p=void 0===x||x,b=e.modalSnackMessage,j=e.noContentPadding,k=e.setModalSnackMessage,C=e.titleIcon,v=void 0===C?null:C,y=(0,r.useState)(!1),S=(0,t.Z)(y,2),B=S[0],N=S[1];(0,r.useEffect)((function(){k("")}),[k]),(0,r.useEffect)((function(){if(b){if(""===b.message)return void N(!1);"error"!==b.type&&N(!0)}}),[b]);var M=p?{classes:{paper:f.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},P="";return b&&(P=b.detailedErrorMsg,(""===b.detailedErrorMsg||b.detailedErrorMsg.length<5)&&(P=b.message)),(0,Z.jsxs)(s.Z,(0,a.Z)((0,a.Z)({open:n,classes:f},M),{},{scroll:"paper",onClose:function(e,n){"backdropClick"!==n&&o()},className:f.root,children:[(0,Z.jsxs)(d.Z,{className:f.title,children:[(0,Z.jsxs)("div",{className:f.titleText,children:[v," ",i]}),(0,Z.jsx)("div",{className:f.closeContainer,children:(0,Z.jsx)(c.Z,{"aria-label":"close",id:"close",className:f.closeButton,onClick:o,disableRipple:!0,size:"small",children:(0,Z.jsx)(g.Z,{})})})]}),(0,Z.jsx)(h.Z,{isModal:!0}),(0,Z.jsx)(l.Z,{open:B,className:f.snackBarModal,onClose:function(){N(!1),k("")},message:P,ContentProps:{className:"".concat(f.snackBar," ").concat(b&&"error"===b.type?f.errorSnackBar:"")},autoHideDuration:b&&"error"===b.type?1e4:5e3}),(0,Z.jsx)(u.Z,{className:j?"":f.content,children:m})]}))})))},31014:function(e,o,n){n.r(o);var t=n(29439),a=n(1413),r=n(72791),i=n(60364),c=n(61889),l=n(36151),s=n(40986),d=n(11135),u=n(25787),m=n(81207),f=n(42649),x=n(23814),p=n(56028),g=n(21435),h=n(92217),Z=n(80184),b={setModalErrorSnackMessage:f.zb},j=(0,i.$j)(null,b);o.default=(0,u.Z)((function(e){return(0,d.Z)((0,a.Z)((0,a.Z)((0,a.Z)({buttonContainer:{textAlign:"right"},codeMirrorContainer:{marginBottom:20,marginTop:20,"& label":{marginBottom:".5rem"},"& label + div":{display:"none"}}},x.bK),x.ID),x.YI))}))(j((function(e){var o=e.classes,n=e.open,a=e.closeModalAndRefresh,i=e.policyEdit,d=e.setModalErrorSnackMessage,u=(0,r.useState)(!1),f=(0,t.Z)(u,2),x=f[0],b=f[1],j=(0,r.useState)(""),k=(0,t.Z)(j,2),C=k[0],v=k[1],y=(0,r.useState)(""),S=(0,t.Z)(y,2),B=S[0],N=S[1];(0,r.useEffect)((function(){i&&(v(i.name),N(i?JSON.stringify(JSON.parse(i.policy),null,4):""))}),[i]);var M=""!==C.trim();return(0,Z.jsx)(p.Z,{modalOpen:n,onClose:function(){a(!1)},title:"".concat(i?"Info":"Create"," Policy"),children:(0,Z.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault(),x||(b(!0),m.Z.invoke("POST","/api/v1/policies",{name:C,policy:B}).then((function(e){b(!1),a(!0)})).catch((function(e){b(!1),d(e)})))},children:(0,Z.jsxs)(c.ZP,{container:!0,children:[(0,Z.jsxs)(c.ZP,{item:!0,xs:12,className:o.modalFormScrollable,children:[(0,Z.jsx)(c.ZP,{item:!0,xs:12,className:o.formFieldRow,children:(0,Z.jsx)(g.Z,{id:"policy-name",name:"policy-name",label:"Policy Name",placeholder:"Enter Policy Name",autoFocus:!0,onChange:function(e){v(e.target.value)},value:C,disabled:!!i})}),(0,Z.jsx)(c.ZP,{item:!0,xs:12,className:o.codeMirrorContainer,children:(0,Z.jsx)(h.Z,{label:"".concat(i?"Edit":"Write"," Policy"),value:B,onBeforeChange:function(e,o,n){N(n)},editorHeight:"350px"})})]}),(0,Z.jsxs)(c.ZP,{item:!0,xs:12,className:o.modalButtonBar,children:[!i&&(0,Z.jsx)(l.Z,{type:"button",variant:"outlined",color:"primary",onClick:function(){v(""),N("")},children:"Clear"}),(0,Z.jsx)(l.Z,{type:"submit",variant:"contained",color:"primary",disabled:x||!M,children:"Save"})]}),x&&(0,Z.jsx)(c.ZP,{item:!0,xs:12,children:(0,Z.jsx)(s.Z,{})})]})})})})))}}]);
//# sourceMappingURL=3320.6e852bd3.chunk.js.map