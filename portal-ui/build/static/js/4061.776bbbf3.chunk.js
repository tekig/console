"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[4061,8771,8896,9134],{64163:function(e,n,t){var s=t(1413),i=t(72791),a=t(61889),o=t(11135),r=t(25787),l=t(23814),c=t(80184);n.Z=(0,r.Z)((function(e){return(0,o.Z)((0,s.Z)({},l.xx))}))((function(e){var n=e.classes,t=e.label,s=void 0===t?"":t,o=e.content,r=e.multiLine,l=void 0!==r&&r;return(0,c.jsx)(i.Fragment,{children:(0,c.jsxs)(a.ZP,{className:n.prefinedContainer,children:[""!==s&&(0,c.jsx)(a.ZP,{item:!0,xs:12,className:n.predefinedTitle,children:s}),(0,c.jsx)(a.ZP,{item:!0,xs:12,className:n.predefinedList,children:(0,c.jsx)(a.ZP,{item:!0,xs:12,className:l?n.innerContentMultiline:n.innerContent,children:o})})]})})}))},9505:function(e,n,t){var s=t(29439),i=t(72791),a=t(81207);n.Z=function(e,n){var t=(0,i.useState)(!1),o=(0,s.Z)(t,2),r=o[0],l=o[1];return[r,function(t,s,i){l(!0),a.Z.invoke(t,s,i).then((function(n){l(!1),e(n)})).catch((function(e){l(!1),n(e)}))}]}},56028:function(e,n,t){var s=t(29439),i=t(1413),a=t(72791),o=t(60364),r=t(13400),l=t(55646),c=t(5574),u=t(65661),d=t(39157),m=t(11135),f=t(25787),h=t(23814),x=t(42649),p=t(29823),Z=t(28057),g=t(80184),j=(0,o.$j)((function(e){return{modalSnackMessage:e.system.modalSnackBar}}),{setModalSnackMessage:x.MK});n.Z=(0,f.Z)((function(e){return(0,m.Z)((0,i.Z)((0,i.Z)({},h.Qw),{},{content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765}},h.sN))}))(j((function(e){var n=e.onClose,t=e.modalOpen,o=e.title,m=e.children,f=e.classes,h=e.wideLimit,x=void 0===h||h,j=e.modalSnackMessage,b=e.noContentPadding,v=e.setModalSnackMessage,S=e.titleIcon,y=void 0===S?null:S,C=(0,a.useState)(!1),P=(0,s.Z)(C,2),k=P[0],N=P[1];(0,a.useEffect)((function(){v("")}),[v]),(0,a.useEffect)((function(){if(j){if(""===j.message)return void N(!1);"error"!==j.type&&N(!0)}}),[j]);var E=x?{classes:{paper:f.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},M="";return j&&(M=j.detailedErrorMsg,(""===j.detailedErrorMsg||j.detailedErrorMsg.length<5)&&(M=j.message)),(0,g.jsxs)(c.Z,(0,i.Z)((0,i.Z)({open:t,classes:f},E),{},{scroll:"paper",onClose:function(e,t){"backdropClick"!==t&&n()},className:f.root,children:[(0,g.jsxs)(u.Z,{className:f.title,children:[(0,g.jsxs)("div",{className:f.titleText,children:[y," ",o]}),(0,g.jsx)("div",{className:f.closeContainer,children:(0,g.jsx)(r.Z,{"aria-label":"close",id:"close",className:f.closeButton,onClick:n,disableRipple:!0,size:"small",children:(0,g.jsx)(p.Z,{})})})]}),(0,g.jsx)(Z.Z,{isModal:!0}),(0,g.jsx)(l.Z,{open:k,className:f.snackBarModal,onClose:function(){N(!1),v("")},message:M,ContentProps:{className:"".concat(f.snackBar," ").concat(j&&"error"===j.type?f.errorSnackBar:"")},autoHideDuration:j&&"error"===j.type?1e4:5e3}),(0,g.jsx)(d.Z,{className:b?"":f.content,children:m})]}))})))},60680:function(e,n,t){t(72791);var s=t(11135),i=t(25787),a=t(80184);n.Z=(0,i.Z)((function(e){return(0,s.Z)({root:{padding:0,margin:0,fontSize:".9rem"}})}))((function(e){var n=e.classes,t=e.children;return(0,a.jsx)("h1",{className:n.root,children:t})}))},59114:function(e,n,t){var s=t(4942),i=t(1413),a=(t(72791),t(63466)),o=t(74900),r=t(27391),l=t(25787),c=t(11135),u=t(23814),d=t(80184);n.Z=(0,l.Z)((function(e){return(0,c.Z)({searchField:(0,i.Z)({},u.qg.searchField),adornment:{}})}))((function(e){var n=e.placeholder,t=void 0===n?"":n,i=e.classes,l=e.onChange,c=e.adornmentPosition,u=void 0===c?"end":c,m=e.overrideClass,f=e.value,h=(0,s.Z)({disableUnderline:!0},"".concat(u,"Adornment"),(0,d.jsx)(a.Z,{position:u,className:i.adornment,children:(0,d.jsx)(o.Z,{})}));return(0,d.jsx)(r.Z,{placeholder:t,className:m||i.searchField,id:"search-resource",label:"",InputProps:h,onChange:function(e){l(e.target.value)},variant:"standard",value:f})}))},50276:function(e,n,t){var s=t(1413),i=t(29439),a=t(72791),o=t(64554),r=t(43896),l=t(83449),c=t(47283),u=t(82851),d=t(25787),m=t(13967),f=t(11135),h=t(95193),x=t(80184),p={minHeight:60};n.Z=(0,d.Z)((function(e){return(0,f.Z)({tabsContainer:{display:"flex",height:"100%",width:"100%"},tabsHeaderContainer:{width:"300px",background:"#F8F8F8",borderRight:"1px solid #EAEAEA","& .MuiTabs-root":{"& .MuiTabs-indicator":{display:"none"},"& .MuiTab-root":{display:"flex",flexFlow:"row",alignItems:"center",justifyContent:"flex-start",borderBottom:"1px solid #EAEAEA","& .MuiSvgIcon-root":{marginRight:8,marginBottom:0},"&.Mui-selected":{background:"#E5E5E5",fontWeight:600}},"&. MuiTabs-scroller":{display:"none"}}},tabContentContainer:{width:"100%","& .MuiTabPanel-root":{height:"100%"}},tabPanel:{height:"100%"},"@media (max-width: 900px)":{tabsContainer:{flexFlow:"column",flexDirection:"column"},tabsHeaderContainer:{width:"100%",borderBottom:" 1px solid #EAEAEA","& .MuiTabs-root .MuiTabs-scroller .MuiButtonBase-root":{borderBottom:" 0px"}}}})}))((function(e){var n=e.children,t=e.classes,d=e.selectedTab,f=void 0===d?"0":d,Z=e.routes,g=e.isRouteTabs,j=a.useState(f),b=(0,i.Z)(j,2),v=b[0],S=b[1],y=(0,m.Z)(),C=(0,h.Z)(y.breakpoints.down("md")),P=[],k=[];return n?(n.forEach((function(e){P.push(e.tabConfig),k.push(e.content)})),(0,x.jsx)(l.ZP,{value:"".concat(v),children:(0,x.jsxs)(o.Z,{className:t.tabsContainer,children:[(0,x.jsx)(o.Z,{className:t.tabsHeaderContainer,children:(0,x.jsx)(c.Z,{onChange:function(e,n){S(n)},orientation:C?"horizontal":"vertical",variant:C?"scrollable":"standard",scrollButtons:"auto",className:t.tabList,children:P.map((function(e,n){return e?(0,x.jsx)(r.Z,(0,s.Z)((0,s.Z)({className:t.tabHeader,value:"".concat(n),style:p},e),{},{disableRipple:!0,disableTouchRipple:!0,focusRipple:!0}),"v-tab-".concat(n)):null}))})}),(0,x.jsxs)(o.Z,{className:t.tabContentContainer,children:[g?null:k.map((function(e,n){return(0,x.jsx)(u.Z,{classes:(0,s.Z)({},t.tabPanel),value:"".concat(n),children:e||null},"v-tab-p-".concat(n))})),g?(0,x.jsx)("div",{className:t.tabPanel,children:Z}):null]})]})})):null}))},88896:function(e,n,t){t.r(n);var s=t(29439),i=(t(72791),t(60364)),a=t(51691),o=t(42649),r=t(2148),l=t(9505),c=t(93656),u=t(80184),d={setErrorSnackMessage:o.Ih},m=(0,i.$j)(null,d);n.default=m((function(e){var n=e.selectedGroup,t=e.deleteOpen,i=e.closeDeleteModalAndRefresh,o=e.setErrorSnackMessage,d=(0,l.Z)((function(){return i(!0)}),(function(e){return o(e)})),m=(0,s.Z)(d,2),f=m[0],h=m[1];if(!n)return null;return(0,u.jsx)(r.Z,{title:"Delete Group",confirmText:"Delete",isOpen:t,titleIcon:(0,u.jsx)(c.Nv,{}),isLoading:f,onConfirm:function(){h("DELETE","/api/v1/group?name=".concat(encodeURI(n)))},onClose:function(){return i(!1)},confirmationContent:(0,u.jsxs)(a.Z,{children:["Are you sure you want to delete group",(0,u.jsx)("br",{}),(0,u.jsx)("b",{children:n}),"?"]})})}))},94061:function(e,n,t){t.r(n),t.d(n,{default:function(){return z},formatPolicy:function(){return L},getPoliciesAsString:function(){return O}});var s=t(29439),i=t(1413),a=t(72791),o=t(79271),r=t(11135),l=t(23814),c=t(42649),u=t(60364),d=t(25787),m=t(61889),f=t(14917),h=t(93656),x=t(92983),p=t(62666),Z=t(81207),g=t(39134),j=t(40228),b=t(56028),v=t(64163),S=t(36151),y=t(80184),C={setModalErrorSnackMessage:c.zb},P=(0,u.$j)(null,C),k=(0,d.Z)((function(e){return(0,r.Z)((0,i.Z)((0,i.Z)((0,i.Z)({buttonContainer:{textAlign:"right",marginTop:"1rem"},userSelector:{"& .MuiPaper-root":{padding:0,marginBottom:15}}},l.ID),l.DF),l.oO))}))(P((function(e){var n=e.classes,t=e.title,i=void 0===t?"":t,o=e.groupStatus,r=void 0===o?"enabled":o,l=e.preSelectedUsers,u=void 0===l?[]:l,d=e.selectedGroup,f=void 0===d?"":d,x=e.open,p=e.onClose,g=(0,a.useState)(u),C=(0,s.Z)(g,2),P=C[0],k=C[1];return(0,y.jsxs)(b.Z,{modalOpen:x,onClose:p,title:i,titleIcon:(0,y.jsx)(h.Zm,{}),children:[(0,y.jsx)(m.ZP,{container:!0,children:(0,y.jsxs)(m.ZP,{item:!0,xs:12,children:[(0,y.jsx)("div",{className:n.formFieldRow,children:(0,y.jsx)(v.Z,{label:"Selected Group",content:f})}),(0,y.jsx)("div",{className:n.userSelector,children:(0,y.jsx)(j.Z,{selectedUsers:P,setSelectedUsers:k,editMode:!f})})]})}),(0,y.jsxs)(m.ZP,{item:!0,xs:12,className:n.modalButtonBar,children:[(0,y.jsx)(S.Z,{type:"button",variant:"outlined",color:"primary",onClick:function(){k(u)},children:"Reset"}),(0,y.jsx)(S.Z,{type:"button",variant:"contained",color:"primary",onClick:function(){Z.Z.invoke("PUT","/api/v1/group?name=".concat(encodeURI(f)),{group:f,members:P,status:r}).then((function(e){p()})).catch((function(e){p(),(0,c.zb)(e)}))},children:"Save"})]})]})}))),N=t(88896),E=t(50276),M=t(37516),A=t(74794),F=t(60680),R=t(59114),T=t(56087),B=t(38442),U=t(32291),w=t(84669),I=(0,d.Z)((function(e){return(0,r.Z)({breadcrumLink:{textDecoration:"none",color:"black"}})}))((function(e){e.classes;return(0,y.jsx)(U.Z,{label:(0,y.jsx)(a.Fragment,{children:(0,y.jsx)(w.Z,{to:T.gA.GROUPS,label:"Groups"})}),actions:(0,y.jsx)(a.Fragment,{})})})),D=t(40603),L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.length<=0?[]:e.split(",")},O=function(e){return e.join(", ")},G={setErrorSnackMessage:c.Ih},_=(0,u.$j)(null,G),z=(0,d.Z)((function(e){return(0,r.Z)((0,i.Z)((0,i.Z)((0,i.Z)({pageContainer:{border:"1px solid #EAEAEA",width:"100%"},breadcrumLink:{textDecoration:"none",color:"black"},statusLabel:{fontSize:".8rem",marginRight:".7rem"},statusValue:{fontWeight:"bold",fontSize:".9rem",marginRight:".7rem"},searchField:(0,i.Z)((0,i.Z)({},l.qg.searchField),{},{maxWidth:280})},l.VX),l.bK),{},{actionsTray:(0,i.Z)((0,i.Z)({},l.OR.actionsTray),{},{alignItems:"center","& h1":{flex:1},"& button":{marginLeft:".8rem"},"@media (max-width: 900px)":{justifyContent:"flex-end","& h1":{display:"none"},"& button":{whiteSpace:"nowrap",textOverflow:"ellipsis"}}})},(0,l.Bz)(e.spacing(4))))}))(_((function(e){var n=e.classes,t=(0,a.useState)({}),i=(0,s.Z)(t,2),r=i[0],l=i[1],u=(0,a.useState)(!1),d=(0,s.Z)(u,2),j=d[0],b=d[1],v=(0,a.useState)(!1),S=(0,s.Z)(v,2),C=S[0],P=S[1],U=(0,a.useState)(!1),w=(0,s.Z)(U,2),O=w[0],G=w[1],_=(0,a.useState)(""),z=(0,s.Z)(_,2),K=z[0],H=z[1],V=(0,o.UO)().groupName,W=void 0===V?"":V,$=r.members,X=void 0===$?[]:$,q=r.policy,Q=void 0===q?"":q,Y=r.status,J=X.filter((function(e){return e.includes(K)}));(0,a.useEffect)((function(){W&&ie()}),[W]);var ee=L(Q),ne="enabled"===Y,te=X.length>0?"Edit Members":"Add Members",se=(0,B.F)(T.C3,[T.Ft.ADMIN_GET_GROUP]);function ie(){se&&Z.Z.invoke("GET","/api/v1/group?name=".concat(encodeURI(W))).then((function(e){l(e)})).catch((function(e){(0,c.zb)(e),l({})}))}var ae=(0,y.jsxs)(a.Fragment,{children:[(0,y.jsxs)("div",{className:n.actionsTray,children:[(0,y.jsx)(F.Z,{children:"Members"}),(0,y.jsx)(R.Z,{placeholder:"Search members",onChange:function(e){H(e)},overrideClass:n.searchField,value:K}),(0,y.jsx)(B.s,{resource:T.C3,scopes:[T.Ft.ADMIN_ADD_USER_TO_GROUP],errorProps:{disabled:!0},children:(0,y.jsx)(D.Z,{tooltip:te,text:te,variant:"contained",color:"primary",icon:(0,y.jsx)(h.dt,{}),onClick:function(){P(!0)}})})]}),(0,y.jsx)("div",{className:n.tableBlock,children:(0,y.jsx)(B.s,{resource:T.C3,scopes:[T.Ft.ADMIN_LIST_USERS],errorProps:{disabled:!0},children:(0,y.jsx)(x.Z,{itemActions:[{type:"view",onClick:function(e){p.Z.push("".concat(T.gA.USERS,"/").concat(e))}}],columns:[{label:"Access Key",elementKey:""}],selectedItems:[],isLoading:!1,records:J,entityName:"Users",idField:""})})})]}),oe=(0,y.jsxs)(a.Fragment,{children:[(0,y.jsxs)("div",{className:n.actionsTray,children:[(0,y.jsx)(F.Z,{children:"Policies"}),(0,y.jsx)(D.Z,{tooltip:"Set Policies",text:"Set Policies",variant:"contained",color:"primary",icon:(0,y.jsx)(h.v4,{}),onClick:function(){b(!0)}})]}),(0,y.jsx)("div",{className:n.tableBlock,children:(0,y.jsx)(x.Z,{itemActions:[{type:"view",onClick:function(e){p.Z.push("".concat(T.gA.POLICIES,"/").concat(e))}}],columns:[{label:"Policy",elementKey:""}],isLoading:!1,records:ee,entityName:"Policies",idField:""})})]});return(0,y.jsxs)(a.Fragment,{children:[(0,y.jsx)(I,{}),(0,y.jsxs)(A.Z,{className:n.pageContainer,children:[(0,y.jsx)(m.ZP,{item:!0,xs:12,children:(0,y.jsx)(f.Z,{icon:(0,y.jsx)(a.Fragment,{children:(0,y.jsx)(h.ww,{width:40})}),title:W,subTitle:null,actions:(0,y.jsxs)(a.Fragment,{children:[(0,y.jsx)("span",{className:n.statusLabel,children:"Group Status:"}),(0,y.jsx)("span",{id:"group-status",className:n.statusValue,children:ne?"Enabled":"Disabled"}),(0,y.jsx)(B.s,{resource:T.C3,scopes:[T.Ft.ADMIN_ENABLE_GROUP,T.Ft.ADMIN_DISABLE_GROUP],errorProps:{disabled:!0},matchAll:!0,children:(0,y.jsx)(M.Z,{indicatorLabels:["Enabled","Disabled"],checked:ne,value:"group_enabled",id:"group-status",name:"group-status",onChange:function(){var e;e=!ne,Z.Z.invoke("PUT","/api/v1/group?name=".concat(encodeURI(W)),{group:W,members:X,status:e?"enabled":"disabled"}).then((function(e){ie()})).catch((function(e){(0,c.zb)(e)}))},switchOnly:!0})}),(0,y.jsx)(B.s,{resource:T.C3,scopes:[T.Ft.ADMIN_REMOVE_USER_FROM_GROUP],errorProps:{disabled:!0},children:(0,y.jsx)("div",{className:n.spacerLeft,children:(0,y.jsx)(D.Z,{tooltip:"Delete Group",text:"",variant:"outlined",color:"secondary",icon:(0,y.jsx)(h.XH,{}),onClick:function(){G(!0)}})})})]})})}),(0,y.jsx)(m.ZP,{item:!0,xs:12,children:(0,y.jsxs)(E.Z,{children:[{tabConfig:{label:"Members"},content:ae},{tabConfig:{label:"Policies"},content:oe}]})})]}),j?(0,y.jsx)(g.default,{open:j,selectedGroup:W,selectedUser:null,closeModalAndRefresh:function(){b(!1),ie()}}):null,C?(0,y.jsx)(k,{selectedGroup:W,onSaveClick:function(){},title:te,groupStatus:Y,preSelectedUsers:X,open:C,onClose:function(){P(!1),ie()}}):null,O&&(0,y.jsx)(N.default,{deleteOpen:O,selectedGroup:W,closeDeleteModalAndRefresh:function(e){G(!1),e&&p.Z.push(T.gA.GROUPS)}})]})})))},40228:function(e,n,t){var s=t(93433),i=t(29439),a=t(1413),o=t(72791),r=t(60364),l=t(11135),c=t(25787),u=t(40986),d=t(26181),m=t.n(d),f=t(10703),h=t(61889),x=t(21639),p=t(23814),Z=t(42649),g=t(81207),j=t(92983),b=t(59114),v=t(80184),S={setModalErrorSnackMessage:Z.zb},y=(0,r.$j)(null,S);n.Z=(0,c.Z)((function(e){return(0,l.Z)((0,a.Z)((0,a.Z)({paper:{display:"flex",overflow:"auto",flexDirection:"column",boxShadow:"none",border:0},tableBlock:(0,a.Z)({},p.VX.tableBlock),searchBox:{flex:1}},p.OR),{},{actionsTitle:{fontSize:14,alignSelf:"center",minWidth:160,marginRight:10},noFound:{textAlign:"center",padding:e.spacing(3),border:"1px solid #EAEAEA",fontSize:".9rem"}},p.jY))}))(y((function(e){var n=e.classes,t=e.selectedUsers,a=e.setSelectedUsers,r=e.editMode,l=void 0!==r&&r,c=e.setModalErrorSnackMessage,d=(0,o.useState)([]),p=(0,i.Z)(d,2),Z=p[0],S=p[1],y=(0,o.useState)(!1),C=(0,i.Z)(y,2),P=C[0],k=C[1],N=(0,o.useState)(""),E=(0,i.Z)(N,2),M=E[0],A=E[1],F=(0,o.useCallback)((function(){g.Z.invoke("GET","/api/v1/users").then((function(e){var n=m()(e,"users",[]);n||(n=[]),S(n.sort(x.LQ)),k(!1)})).catch((function(e){c(e),k(!1)}))}),[c]);(0,o.useEffect)((function(){k(!0)}),[]),(0,o.useEffect)((function(){P&&F()}),[P,F]);var R=t||[],T=Z.filter((function(e){return e.accessKey.includes(M)}));return(0,v.jsx)(o.Fragment,{children:(0,v.jsx)(h.ZP,{item:!0,xs:12,children:(0,v.jsxs)(f.Z,{className:n.paper,children:[P&&(0,v.jsx)(u.Z,{}),null!==Z&&Z.length>0?(0,v.jsxs)(o.Fragment,{children:[(0,v.jsxs)(h.ZP,{item:!0,xs:12,className:n.actionsTray,children:[(0,v.jsx)("label",{className:n.actionsTitle,children:l?"Edit Members":"Assign Users"}),(0,v.jsx)("div",{className:n.searchBox,children:(0,v.jsx)(b.Z,{placeholder:"Filter Users",adornmentPosition:"end",onChange:A,value:M})})]}),(0,v.jsx)(h.ZP,{item:!0,xs:12,className:n.tableBlock,children:(0,v.jsx)(j.Z,{columns:[{label:"Access Key",elementKey:"accessKey"}],onSelect:function(e){var n=e.target,t=n.value,i=n.checked,o=(0,s.Z)(R);return i?o.push(t):o=o.filter((function(e){return e!==t})),a(o),o},selectedItems:R,isLoading:P,records:T,entityName:"Users",idField:"accessKey",customPaperHeight:n.multiSelectTable})})]}):(0,v.jsx)("div",{className:n.noFound,children:"No Users to display"})]})})})})))},58400:function(e,n,t){var s=t(93433),i=t(29439),a=t(1413),o=t(72791),r=t(60364),l=t(11135),c=t(25787),u=t(40986),d=t(61889),m=t(21639),f=t(23814),h=t(42649),x=t(81207),p=t(92983),Z=t(59114),g=t(80184),j=(0,r.$j)(null,{setModalErrorSnackMessage:h.zb});n.Z=(0,c.Z)((function(e){return(0,l.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({noFound:{textAlign:"center",padding:"10px 0"},searchBox:{flex:1},fieldLabel:{fontWeight:400,width:160,marginRight:10},tableBlock:(0,a.Z)({},f.VX.tableBlock),filterBox:{display:"flex",marginBottom:15,alignItems:"center","& span":{fontSize:14}}},f.qg),f.VX),f.OR),f.jY))}))(j((function(e){var n=e.classes,t=e.selectedPolicy,a=void 0===t?[]:t,r=e.setSelectedPolicy,l=e.setModalErrorSnackMessage,c=(0,o.useState)([]),f=(0,i.Z)(c,2),h=f[0],j=f[1],b=(0,o.useState)(!1),v=(0,i.Z)(b,2),S=v[0],y=v[1],C=(0,o.useState)(""),P=(0,i.Z)(C,2),k=P[0],N=P[1],E=(0,o.useCallback)((function(){y(!0),x.Z.invoke("GET","/api/v1/policies?limit=1000").then((function(e){var n=null===e.policies?[]:e.policies;y(!1),j(n.sort(m.g4))})).catch((function(e){y(!1),l(e)}))}),[l]);(0,o.useEffect)((function(){y(!0)}),[]),(0,o.useEffect)((function(){S&&E()}),[S,E]);var M=h.filter((function(e){return e.name.includes(k)}));return(0,g.jsx)(o.Fragment,{children:(0,g.jsxs)(d.ZP,{item:!0,xs:12,children:[S&&(0,g.jsx)(u.Z,{}),h.length>0?(0,g.jsxs)(o.Fragment,{children:[(0,g.jsxs)(d.ZP,{item:!0,xs:12,className:n.filterBox,children:[(0,g.jsx)("span",{className:n.fieldLabel,children:"Assign Policies"}),(0,g.jsx)("div",{className:n.searchBox,children:(0,g.jsx)(Z.Z,{placeholder:"Filter Policy",onChange:function(e){N(e)},value:k})})]}),(0,g.jsx)(d.ZP,{item:!0,xs:12,className:n.tableBlock,children:(0,g.jsx)(p.Z,{columns:[{label:"Policy",elementKey:"name"}],onSelect:function(e){var n=e.target,t=n.value,i=n.checked,o=(0,s.Z)(a);i?o.push(t):o=o.filter((function(e){return e!==t})),o=o.filter((function(e){return""!==e})),r(o)},selectedItems:a,isLoading:S,records:M,entityName:"Policies",idField:"name",customPaperHeight:n.multiSelectTable})})]}):(0,g.jsx)("div",{className:n.noFound,children:"No Policies Available"})]})})})))},39134:function(e,n,t){t.r(n);var s=t(29439),i=t(1413),a=t(72791),o=t(60364),r=t(26181),l=t.n(r),c=t(11135),u=t(25787),d=t(36151),m=t(40986),f=t(61889),h=t(23814),x=t(42649),p=t(56028),Z=t(81207),g=t(58400),j=t(64163),b=t(80184),v={setModalErrorSnackMessage:x.zb},S=(0,o.$j)(null,v);n.default=(0,u.Z)((function(e){return(0,c.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},h.oO),h.bK),{},{tableBlock:(0,i.Z)((0,i.Z)({},h.VX.tableBlock),{},{marginTop:15}),buttonContainer:{textAlign:"right",marginTop:".9rem"}}))}))(S((function(e){var n=e.classes,t=e.closeModalAndRefresh,i=e.selectedUser,o=e.selectedGroup,r=e.setModalErrorSnackMessage,c=e.open,u=(0,a.useState)(!1),h=(0,s.Z)(u,2),x=h[0],v=h[1],S=(0,a.useState)([]),y=(0,s.Z)(S,2),C=y[0],P=y[1],k=(0,a.useState)([]),N=(0,s.Z)(k,2),E=N[0],M=N[1];(0,a.useEffect)((function(){if(c){if(null!==o)return void(o&&Z.Z.invoke("GET","/api/v1/group?name=".concat(encodeURI(o))).then((function(e){var n=l()(e,"policy","");P(n.split(",")),M(n.split(","))})).catch((function(e){r(e),v(!1)})));var e=l()(i,"policy",[]);P(e),M(e)}}),[c,o,i]);var A=l()(i,"accessKey","");return(0,b.jsxs)(p.Z,{onClose:function(){t()},modalOpen:c,title:"Set Policies",children:[(0,b.jsxs)(f.ZP,{container:!0,children:[(0,b.jsx)(f.ZP,{item:!0,xs:12,children:(0,b.jsx)(j.Z,{label:"Selected ".concat(null!==o?"Group":"User"),content:null!==o?o:A})}),(0,b.jsx)(f.ZP,{item:!0,xs:12,children:(0,b.jsx)(j.Z,{label:"Current Policy",content:C.join(", ")})}),(0,b.jsx)(f.ZP,{item:!0,xs:12,children:(0,b.jsx)("div",{className:n.tableBlock,children:(0,b.jsx)(g.Z,{selectedPolicy:E,setSelectedPolicy:M})})})]}),(0,b.jsxs)(f.ZP,{item:!0,xs:12,className:n.buttonContainer,children:[(0,b.jsx)(d.Z,{type:"button",variant:"outlined",color:"primary",className:n.spacerRight,onClick:function(){M(C)},children:"Reset"}),(0,b.jsx)(d.Z,{type:"button",variant:"contained",color:"primary",disabled:x,onClick:function(){var e="user",n=null;null!==o?(e="group",n=o):null!==i&&(n=i.accessKey),v(!0),Z.Z.invoke("PUT","/api/v1/set-policy",{name:E,entityName:n,entityType:e}).then((function(){v(!1),t()})).catch((function(e){v(!1),r(e)}))},children:"Save"})]}),x&&(0,b.jsx)(f.ZP,{item:!0,xs:12,children:(0,b.jsx)(m.Z,{})})]})})))},21639:function(e,n,t){t.d(n,{LQ:function(){return s},V2:function(){return a},g4:function(){return i}});var s=function(e,n){return e.accessKey>n.accessKey?1:e.accessKey<n.accessKey?-1:0},i=function(e,n){return e.name>n.name?1:e.name<n.name?-1:0},a=function(e,n){return e>n?1:e<n?-1:0}}}]);
//# sourceMappingURL=4061.776bbbf3.chunk.js.map