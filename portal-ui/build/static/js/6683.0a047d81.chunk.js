"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[6683],{54639:function(e,n,i){i.d(n,{Z:function(){return _}});var l=i(29439),t=i(1413),a=i(72791),r=i(26181),o=i.n(r),d=i(61889),s=i(30829),c=i(20068),u=i(13400),v=i(99663),m=i(86711),p=i(11135),Z=i(25787),x=i(23814),g=i(84570),y=i(22512),f=i(80184),_=(0,Z.Z)((function(e){return(0,p.Z)((0,t.Z)((0,t.Z)((0,t.Z)((0,t.Z)({},x.YI),x.Hr),{},{valueString:{maxWidth:350,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginTop:2},fileInputField:{margin:"13px 0","@media (max-width: 900px)":{flexFlow:"column"}}},x.bV),{},{inputLabel:(0,t.Z)((0,t.Z)({},x.YI.inputLabel),{},{fontWeight:"normal"}),textBoxContainer:(0,t.Z)((0,t.Z)({},x.YI.textBoxContainer),{},{maxWidth:"100%",border:"1px solid #eaeaea",paddingLeft:"15px"})}))}))((function(e){var n=e.label,i=e.classes,t=e.onChange,r=e.id,p=e.name,Z=e.disabled,x=void 0!==Z&&Z,_=e.tooltip,h=void 0===_?"":_,j=e.required,k=e.error,b=void 0===k?"":k,C=e.accept,S=void 0===C?"":C,P=e.value,K=void 0===P?"":P,w=(0,a.useState)(!1),N=(0,l.Z)(w,2),A=N[0],I=N[1];return(0,f.jsx)(a.Fragment,{children:(0,f.jsxs)(d.ZP,{item:!0,xs:12,className:"".concat(i.fileInputField," ").concat(i.fieldBottom," ").concat(i.fieldContainer," ").concat(""!==b?i.errorInField:""),children:[""!==n&&(0,f.jsxs)(s.Z,{htmlFor:r,className:"".concat(""!==b?i.fieldLabelError:""," ").concat(i.inputLabel),children:[(0,f.jsxs)("span",{children:[n,j?"*":""]}),""!==h&&(0,f.jsx)("div",{className:i.tooltipContainer,children:(0,f.jsx)(c.Z,{title:h,placement:"top-start",children:(0,f.jsx)("div",{className:i.tooltip,children:(0,f.jsx)(g.Z,{})})})})]}),A||""===K?(0,f.jsxs)("div",{className:i.textBoxContainer,children:[(0,f.jsx)("input",{type:"file",name:p,onChange:function(e){var n=o()(e,"target.files[0].name","");!function(e,n){var i=e.target.files[0],l=new FileReader;l.readAsDataURL(i),l.onload=function(){var e=l.result;if(e){var i=e.toString().split("base64,");2===i.length&&n(i[1])}}}(e,(function(e){t(e,n)}))},accept:S,required:j,disabled:x,className:i.fileInputField}),""!==K&&(0,f.jsx)(u.Z,{color:"primary","aria-label":"upload picture",component:"span",onClick:function(){I(!1)},disableRipple:!1,disableFocusRipple:!1,size:"small",children:(0,f.jsx)(m.Z,{})}),""!==b&&(0,f.jsx)(y.Z,{errorMessage:b})]}):(0,f.jsxs)("div",{className:i.fileReselect,children:[(0,f.jsx)("div",{className:i.valueString,children:K}),(0,f.jsx)(u.Z,{color:"primary","aria-label":"upload picture",component:"span",onClick:function(){I(!0)},disableRipple:!1,disableFocusRipple:!1,size:"small",children:(0,f.jsx)(v.Z,{})})]})]})})}))},98952:function(e,n,i){i.d(n,{Z:function(){return j}});i(72791);var l=i(11135),t=i(25787),a=i(90983),r=i(81918),o=i(26445),d=i(61889),s=i(20890),c=i(64554),u=i(94721),v=i(90493),m=i(15021),p=i(20653),Z=i(49900),x=i(52502),g=i(46431),y=i.n(g),f=i(1413),_=i(80184),h=function(e){return(0,_.jsxs)("svg",(0,f.Z)((0,f.Z)({xmlns:"http://www.w3.org/2000/svg",className:"min-icon",fill:"currentcolor",viewBox:"0 0 256 256"},e),{},{children:[(0,_.jsx)("defs",{children:(0,_.jsx)("clipPath",{id:"certificate_svg__a",children:(0,_.jsx)("path",{"data-name":"Rect\\xE1ngulo 2156",fill:"#07193e",d:"M0 0h256v222.048H0z"})})}),(0,_.jsxs)("g",{"data-name":"Grupo 4763",transform:"translate(0 17)",clipPath:"url(#certificate_svg__a)",fill:"#07193e",children:[(0,_.jsx)("path",{"data-name":"Trazado 8152",d:"M240-.002H16a16 16 0 0 0-16 16v160a16 16 0 0 0 16 16h120l4.64-5.6 7.44-9.12A66.72 66.72 0 0 1 256 98.958v-82.96a16 16 0 0 0-16-16m-130.96 149.7H47.3a7.3 7.3 0 1 1 0-14.592h61.74a7.3 7.3 0 1 1 0 14.592m0-56H47.3a7.3 7.3 0 1 1 0-14.592h61.74a7.3 7.3 0 0 1 0 14.592m66.96-39.3a6.419 6.419 0 0 1-6.4 6.4H46.4a6.419 6.419 0 0 1-6.4-6.4v-1.792a6.419 6.419 0 0 1 6.4-6.4h123.2a6.419 6.419 0 0 1 6.4 6.4Z"}),(0,_.jsx)("path",{"data-name":"Trazado 8153",d:"M256 137.486a50.96 50.96 0 1 0-86.16 36.72l-15.52 18.96 7.2 28.88 29.28-35.68a50.018 50.018 0 0 0 28.4 0l29.28 35.68 7.2-28.88-15.52-18.96a50.75 50.75 0 0 0 15.84-36.72m-50.928 29.688a29.688 29.688 0 0 1-.072-59.376h.072a29.688 29.688 0 0 1 0 59.376"})]}),(0,_.jsx)("path",{"data-name":"Rect\\xE1ngulo 2157",fill:"none",d:"M0 0h256v256H0z"})]}))},j=(0,t.Z)((function(e){return(0,l.Z)({root:{padding:0,margin:0,border:0,backgroundColor:"transparent",textDecoration:"underline",cursor:"pointer",fontSize:"inherit",color:e.palette.info.main,fontFamily:"Lato, sans-serif"},certificateIcon:{float:"left",paddingTop:"5px !important",paddingRight:"10px !important"},certificateInfo:{float:"right"},certificateWrapper:{height:"auto",margin:5,border:"1px solid #E2E2E2",userSelect:"text",borderRadius:4,"& h6":{fontWeight:"bold"},"& div":{padding:0}},certificateExpiry:{color:"#616161",display:"flex",alignItems:"center",flexWrap:"wrap",marginBottom:5,"& .label":{fontWeight:"bold"}},certificateDomains:{color:"#616161","& .label":{fontWeight:"bold"}},certificatesList:{border:"1px solid #E2E2E2",borderRadius:4,color:"#616161",textTransform:"lowercase",overflowY:"scroll",maxHeight:145,marginBottom:10},certificatesListItem:{padding:"0px 16px",borderBottom:"1px solid #E2E2E2","& div":{minWidth:0},"& svg":{fontSize:12,marginRight:10,opacity:.5},"& span":{fontSize:12}}})}))((function(e){var n=e.classes,i=e.certificateInfo,l=e.onDelete,t=void 0===l?function(){}:l,g=i.domains||[];return(0,_.jsx)(r.Z,{variant:"outlined",color:"primary",className:n.certificateWrapper,label:(0,_.jsxs)(o.Z,{children:[(0,_.jsx)(d.ZP,{item:!0,xs:1,className:n.certificateIcon,children:(0,_.jsx)(h,{})}),(0,_.jsxs)(d.ZP,{item:!0,xs:11,className:n.certificateInfo,children:[(0,_.jsx)(s.Z,{variant:"subtitle1",display:"block",gutterBottom:!0,children:i.name}),(0,_.jsxs)(c.Z,{className:n.certificateExpiry,children:[(0,_.jsx)(x.Z,{color:"inherit",fontSize:"small"}),"\xa0",(0,_.jsx)("span",{className:"label",children:"Expiry:\xa0"}),(0,_.jsx)("span",{children:(0,_.jsx)(y(),{format:"YYYY/MM/DD",children:i.expiry})})]}),(0,_.jsx)(u.Z,{}),(0,_.jsx)("br",{}),(0,_.jsx)(c.Z,{className:n.certificateDomains,children:(0,_.jsx)("span",{className:"label",children:"".concat(g.length," Domain (s):")})}),(0,_.jsx)(v.Z,{className:n.certificatesList,children:g.map((function(e){return(0,_.jsxs)(m.ZP,{className:n.certificatesListItem,children:[(0,_.jsx)(p.Z,{children:(0,_.jsx)(a.Z,{})}),(0,_.jsx)(Z.Z,{primary:e})]})}))})]})]}),onDelete:t},i.name)}))},76683:function(e,n,i){i.r(n);var l=i(93433),t=i(29439),a=i(1413),r=i(11135),o=i(25787),d=i(23814),s=i(72791),c=i(42649),u=i(60364),v=i(75460),m=i(81207),p=i(37516),Z=i(61889),x=i(54639),g=i(21435),y=i(83679),f=i(51691),_=i(36151),h=i(20165),j=i(3579),k=i(84741),b=i(40968),C=i(2148),S=i(98952),P=i(50896),K=i(80184),w={setErrorSnackMessage:c.Ih,setTenantDetailsLoad:v.V2},N=(0,u.$j)((function(e){return{loadingTenant:e.tenants.tenantDetails.loadingTenant,selectedTenant:e.tenants.tenantDetails.currentTenant,tenant:e.tenants.tenantDetails.tenantInfo}}),w);n.default=(0,o.Z)((function(e){return(0,r.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},d.oZ),d.bK),{},{loaderAlign:{textAlign:"center"},title:{marginTop:35},bold:{fontWeight:"bold"},italic:{fontStyle:"italic"},paperContainer:{padding:"15px 15px 15px 50px"},certificateInfo:{height:"auto",margin:5},fileItem:{marginRight:10,display:"flex","& div label":{minWidth:50},"@media (max-width: 900px)":{flexFlow:"column"}},certInputRow:{display:"flex",alignItems:"center",borderBottom:"1px solid #eaeaea",marginBottom:8},caCertsRow:{borderBottom:"1px solid #eaeaea",display:"flex",alignItems:"center",marginBottom:8}},(0,d.Bz)(e.spacing(4))),d.QV),d.DF),d.oO),d.AK))}))(N((function(e){var n,i,r,o,d,c,u,v,w,N,A,I,z,E,q,R,G,T,D,F,M,V,B,L,U,W,O,H,Y,Q,$,J,X=e.classes,ee=e.tenant,ne=e.setErrorSnackMessage,ie=(0,s.useState)(!1),le=(0,t.Z)(ie,2),te=le[0],ae=le[1],re=(0,s.useState)("vault"),oe=(0,t.Z)(re,2),de=oe[0],se=oe[1],ce=(0,s.useState)("2"),ue=(0,t.Z)(ce,2),ve=ue[0],me=ue[1],pe=(0,s.useState)(""),Ze=(0,t.Z)(pe,2),xe=Ze[0],ge=Ze[1],ye=(0,s.useState)(!1),fe=(0,t.Z)(ye,2),_e=fe[0],he=fe[1],je=(0,s.useState)({fsGroup:"1000",runAsGroup:"1000",runAsNonRoot:!0,runAsUser:"1000"}),ke=(0,t.Z)(je,2),be=ke[0],Ce=ke[1],Se=(0,s.useState)(null),Pe=(0,t.Z)(Se,2),Ke=Pe[0],we=Pe[1],Ne=(0,s.useState)(null),Ae=(0,t.Z)(Ne,2),Ie=Ae[0],ze=Ae[1],Ee=(0,s.useState)(null),qe=(0,t.Z)(Ee,2),Re=qe[0],Ge=qe[1],Te=(0,s.useState)(null),De=(0,t.Z)(Te,2),Fe=De[0],Me=De[1],Ve=(0,s.useState)(null),Be=(0,t.Z)(Ve,2),Le=Be[0],Ue=Be[1],We=(0,s.useState)(!1),Oe=(0,t.Z)(We,2),He=Oe[0],Ye=Oe[1],Qe=(0,s.useState)(!1),$e=(0,t.Z)(Qe,2),Je=$e[0],Xe=$e[1],en=(0,s.useState)(null),nn=(0,t.Z)(en,2),ln=nn[0],tn=nn[1],an=(0,s.useState)(null),rn=(0,t.Z)(an,2),on=rn[0],dn=rn[1],sn=(0,s.useState)(null),cn=(0,t.Z)(sn,2),un=cn[0],vn=cn[1],mn=(0,s.useState)([]),pn=(0,t.Z)(mn,2),Zn=pn[0],xn=pn[1],gn=(0,s.useState)(!1),yn=(0,t.Z)(gn,2),fn=yn[0],_n=yn[1],hn=(0,s.useState)(!1),jn=(0,t.Z)(hn,2),kn=jn[0],bn=jn[1],Cn=(0,s.useState)(!1),Sn=(0,t.Z)(Cn,2),Pn=Sn[0],Kn=Sn[1],wn=(0,s.useState)(null),Nn=(0,t.Z)(wn,2),An=Nn[0],In=Nn[1],zn=(0,s.useState)(null),En=(0,t.Z)(zn,2),qn=En[0],Rn=En[1],Gn=(0,s.useState)(null),Tn=(0,t.Z)(Gn,2),Dn=Tn[0],Fn=Tn[1],Mn=(0,s.useState)(null),Vn=(0,t.Z)(Mn,2),Bn=Vn[0],Ln=Vn[1],Un=(0,s.useState)(null),Wn=(0,t.Z)(Un,2),On=Wn[0],Hn=Wn[1],Yn=(0,s.useState)(null),Qn=(0,t.Z)(Yn,2),$n=Qn[0],Jn=Qn[1],Xn=(0,s.useState)(null),ei=(0,t.Z)(Xn,2),ni=ei[0],ii=ei[1],li=(0,s.useState)({}),ti=(0,t.Z)(li,2),ai=ti[0],ri=ti[1],oi=function(e){ri((0,k.h)(ai,e))},di=(0,s.useState)(!1),si=(0,t.Z)(di,2),ci=si[0],ui=si[1];(0,s.useEffect)((function(){var e=[];if(te){var n,i,t,a,r,o,d,s,c,u,v,m,p,Z,x,g,y,f,_,h,j,k,C,S,P,K,w,N;if(e=[].concat((0,l.Z)(e),[{fieldKey:"replicas",required:!0,value:ve,customValidation:parseInt(ve)<1,customValidationMessage:"Replicas needs to be 1 or greater"},{fieldKey:"kes_securityContext_runAsUser",required:!0,value:be.runAsUser,customValidation:""===be.runAsUser||parseInt(be.runAsUser)<0,customValidationMessage:"runAsUser must be present and be 0 or more"},{fieldKey:"kes_securityContext_runAsGroup",required:!0,value:be.runAsGroup,customValidation:""===be.runAsGroup||parseInt(be.runAsGroup)<0,customValidationMessage:"runAsGroup must be present and be 0 or more"},{fieldKey:"kes_securityContext_fsGroup",required:!0,value:be.fsGroup,customValidation:""===be.fsGroup||parseInt(be.fsGroup)<0,customValidationMessage:"fsGroup must be present and be 0 or more"}]),He&&(e=[].concat((0,l.Z)(e),[{fieldKey:"serverKey",required:!1,value:(null===Bn||void 0===Bn?void 0:Bn.encoded_key)||""},{fieldKey:"serverCert",required:!1,value:(null===Bn||void 0===Bn?void 0:Bn.encoded_cert)||""},{fieldKey:"clientKey",required:!1,value:(null===un||void 0===un?void 0:un.encoded_key)||""},{fieldKey:"clientCert",required:!1,value:(null===un||void 0===un?void 0:un.encoded_cert)||""}])),"vault"===de)e=[].concat((0,l.Z)(e),[{fieldKey:"vault_endpoint",required:!0,value:null===Ke||void 0===Ke?void 0:Ke.endpoint},{fieldKey:"vault_id",required:!0,value:null===Ke||void 0===Ke||null===(n=Ke.approle)||void 0===n?void 0:n.id},{fieldKey:"vault_secret",required:!0,value:null===Ke||void 0===Ke||null===(i=Ke.approle)||void 0===i?void 0:i.secret},{fieldKey:"vault_ping",required:!1,value:null===Ke||void 0===Ke||null===(t=Ke.status)||void 0===t?void 0:t.ping,customValidation:parseInt(null===Ke||void 0===Ke||null===(a=Ke.status)||void 0===a?void 0:a.ping)<0,customValidationMessage:"Value needs to be 0 or greater"},{fieldKey:"vault_retry",required:!1,value:null===Ke||void 0===Ke||null===(r=Ke.approle)||void 0===r?void 0:r.retry,customValidation:parseInt(null===Ke||void 0===Ke||null===(o=Ke.approle)||void 0===o?void 0:o.retry)<0,customValidationMessage:"Value needs to be 0 or greater"}]);if("aws"===de)e=[].concat((0,l.Z)(e),[{fieldKey:"aws_endpoint",required:!0,value:null===Ie||void 0===Ie||null===(d=Ie.secretsmanager)||void 0===d?void 0:d.endpoint},{fieldKey:"aws_region",required:!0,value:null===Ie||void 0===Ie||null===(s=Ie.secretsmanager)||void 0===s?void 0:s.region},{fieldKey:"aws_accessKey",required:!0,value:null===Ie||void 0===Ie||null===(c=Ie.secretsmanager)||void 0===c||null===(u=c.credentials)||void 0===u?void 0:u.accesskey},{fieldKey:"aws_secretKey",required:!0,value:null===Ie||void 0===Ie||null===(v=Ie.secretsmanager)||void 0===v||null===(m=v.credentials)||void 0===m?void 0:m.secretkey}]);if("gemalto"===de)e=[].concat((0,l.Z)(e),[{fieldKey:"gemalto_endpoint",required:!0,value:null===Re||void 0===Re||null===(p=Re.keysecure)||void 0===p?void 0:p.endpoint},{fieldKey:"gemalto_token",required:!0,value:null===Re||void 0===Re||null===(Z=Re.keysecure)||void 0===Z||null===(x=Z.credentials)||void 0===x?void 0:x.token},{fieldKey:"gemalto_domain",required:!0,value:null===Re||void 0===Re||null===(g=Re.keysecure)||void 0===g||null===(y=g.credentials)||void 0===y?void 0:y.domain},{fieldKey:"gemalto_retry",required:!1,value:null===Re||void 0===Re||null===(f=Re.keysecure)||void 0===f||null===(_=f.credentials)||void 0===_?void 0:_.retry,customValidation:parseInt(null===Re||void 0===Re||null===(h=Re.keysecure)||void 0===h||null===(j=h.credentials)||void 0===j?void 0:j.retry)<0,customValidationMessage:"Value needs to be 0 or greater"}]);if("azure"===de)e=[].concat((0,l.Z)(e),[{fieldKey:"azure_endpoint",required:!0,value:null===Fe||void 0===Fe||null===(k=Fe.keyvault)||void 0===k?void 0:k.endpoint},{fieldKey:"azure_tenant_id",required:!0,value:null===Fe||void 0===Fe||null===(C=Fe.keyvault)||void 0===C||null===(S=C.credentials)||void 0===S?void 0:S.tenant_id},{fieldKey:"azure_client_id",required:!0,value:null===Fe||void 0===Fe||null===(P=Fe.keyvault)||void 0===P||null===(K=P.credentials)||void 0===K?void 0:K.client_id},{fieldKey:"azure_client_secret",required:!0,value:null===Fe||void 0===Fe||null===(w=Fe.keyvault)||void 0===w||null===(N=w.credentials)||void 0===N?void 0:N.client_secret}])}var A=(0,b.R)(e);bn(0===Object.keys(A).length),ri(A)}),[He,te,de,null===Bn||void 0===Bn?void 0:Bn.encoded_key,null===Bn||void 0===Bn?void 0:Bn.encoded_cert,null===un||void 0===un?void 0:un.encoded_key,null===un||void 0===un?void 0:un.encoded_cert,null===Dn||void 0===Dn?void 0:Dn.encoded_key,null===Dn||void 0===Dn?void 0:Dn.encoded_cert,null===On||void 0===On?void 0:On.encoded_key,null===On||void 0===On?void 0:On.encoded_cert,be,Ke,Ie,Re,Fe,Le,ve]);var vi=function(){_e||(he(!0),m.Z.invoke("GET","/api/v1/namespaces/".concat(null===ee||void 0===ee?void 0:ee.namespace,"/tenants/").concat(null===ee||void 0===ee?void 0:ee.name,"/encryption")).then((function(e){e.vault?(se("vault"),we(e.vault),e.vault.tls&&(In(e.vault.tls.crt),Rn(e.vault.tls.ca))):e.aws?(se("aws"),ze(e.aws)):e.gemalto?(se("gemalto"),Ge(e.gemalto),e.gemalto.keysecure.tls&&Jn(e.gemalto.keysecure.tls.ca)):e.gcp?(se("gcp"),Ue(e.gcp)):e.azure&&(se("azure"),Me(e.azure)),ae(!0),ge(e.image),me(e.replicas),e.securityContext&&Ce(e.securityContext),(e.server||e.mtls_client)&&Ye(!0),e.server&&tn(e.server),e.mtls_client&&dn(e.mtls_client),he(!1)})).catch((function(e){console.log(e),he(!1)})))};(0,s.useEffect)((function(){vi()}),[]);var mi=function(e){xn([].concat((0,l.Z)(Zn),[e.name])),e.name===(null===ln||void 0===ln?void 0:ln.name)&&tn(null),e.name===(null===on||void 0===on?void 0:on.name)&&dn(null),e.name===(null===An||void 0===An?void 0:An.name)&&In(null),e.name===(null===qn||void 0===qn?void 0:qn.name)&&Rn(null),e.name===(null===$n||void 0===$n?void 0:$n.name)&&Jn(null)};return(0,K.jsx)(s.Fragment,{children:(0,K.jsxs)(Z.ZP,{container:!0,spacing:1,children:[ci&&(0,K.jsx)(C.Z,{isOpen:ci,title:te?"Enable encryption at rest for tenant?":"Disable encryption at rest for tenant?",confirmText:te?"Enable":"Disable",cancelText:"Cancel",onClose:function(){return ui(!1)},onConfirm:function(){var e,n,i,l,t,r,o,d,s,c,u,v,p,Z,x,g,y,f,_,h,j,k,b,C,S,P,K,w,N,A,I,z,E,q,R,G,T,D;if(te){var F={};switch(de){case"gemalto":var M={};null!==ni&&void 0!==ni&&ni.encoded_cert&&(M={tls:{ca:null===ni||void 0===ni?void 0:ni.encoded_cert}}),F={gemalto:{keysecure:(0,a.Z)({endpoint:(null===Re||void 0===Re||null===(e=Re.keysecure)||void 0===e?void 0:e.endpoint)||"",credentials:{token:(null===Re||void 0===Re||null===(n=Re.keysecure)||void 0===n||null===(i=n.credentials)||void 0===i?void 0:i.token)||"",domain:(null===Re||void 0===Re||null===(l=Re.keysecure)||void 0===l||null===(t=l.credentials)||void 0===t?void 0:t.domain)||"",retry:parseInt(null===Re||void 0===Re||null===(r=Re.keysecure)||void 0===r||null===(o=r.credentials)||void 0===o?void 0:o.retry)}},M)}};break;case"aws":F={aws:{secretsmanager:{endpoint:(null===Ie||void 0===Ie||null===(d=Ie.secretsmanager)||void 0===d?void 0:d.endpoint)||"",region:(null===Ie||void 0===Ie||null===(s=Ie.secretsmanager)||void 0===s?void 0:s.region)||"",kmskey:(null===Ie||void 0===Ie||null===(c=Ie.secretsmanager)||void 0===c?void 0:c.kmskey)||"",credentials:{accesskey:(null===Ie||void 0===Ie||null===(u=Ie.secretsmanager)||void 0===u||null===(v=u.credentials)||void 0===v?void 0:v.accesskey)||"",secretkey:(null===Ie||void 0===Ie||null===(p=Ie.secretsmanager)||void 0===p||null===(Z=p.credentials)||void 0===Z?void 0:Z.secretkey)||"",token:(null===Ie||void 0===Ie||null===(x=Ie.secretsmanager)||void 0===x||null===(g=x.credentials)||void 0===g?void 0:g.token)||""}}}};break;case"azure":F={azure:{keyvault:{endpoint:(null===Fe||void 0===Fe||null===(y=Fe.keyvault)||void 0===y?void 0:y.endpoint)||"",credentials:{tenant_id:(null===Fe||void 0===Fe||null===(f=Fe.keyvault)||void 0===f||null===(_=f.credentials)||void 0===_?void 0:_.tenant_id)||"",client_id:(null===Fe||void 0===Fe||null===(h=Fe.keyvault)||void 0===h||null===(j=h.credentials)||void 0===j?void 0:j.client_id)||"",client_secret:(null===Fe||void 0===Fe||null===(k=Fe.keyvault)||void 0===k||null===(b=k.credentials)||void 0===b?void 0:b.client_secret)||""}}}};break;case"gcp":F={gcp:{secretmanager:{project_id:(null===Le||void 0===Le||null===(C=Le.secretmanager)||void 0===C?void 0:C.project_id)||"",endpoint:(null===Le||void 0===Le||null===(S=Le.secretmanager)||void 0===S?void 0:S.endpoint)||"",credentials:{client_email:(null===Le||void 0===Le||null===(P=Le.secretmanager)||void 0===P||null===(K=P.credentials)||void 0===K?void 0:K.client_email)||"",client_id:(null===Le||void 0===Le||null===(w=Le.secretmanager)||void 0===w||null===(N=w.credentials)||void 0===N?void 0:N.client_id)||"",private_key_id:(null===Le||void 0===Le||null===(A=Le.secretmanager)||void 0===A||null===(I=A.credentials)||void 0===I?void 0:I.private_key_id)||"",private_key:(null===Le||void 0===Le||null===(z=Le.secretmanager)||void 0===z||null===(E=z.credentials)||void 0===E?void 0:E.private_key)||""}}}};break;case"vault":var V=null,B=null;null!==Dn&&void 0!==Dn&&Dn.encoded_key&&null!==Dn&&void 0!==Dn&&Dn.encoded_cert&&(V={key:null===Dn||void 0===Dn?void 0:Dn.encoded_key,crt:null===Dn||void 0===Dn?void 0:Dn.encoded_cert}),null!==On&&void 0!==On&&On.encoded_cert&&(B={ca:null===On||void 0===On?void 0:On.encoded_cert});var L=null;(V||B)&&(L={tls:(0,a.Z)((0,a.Z)({},V),B)}),F={vault:(0,a.Z)((0,a.Z)({endpoint:(null===Ke||void 0===Ke?void 0:Ke.endpoint)||"",engine:(null===Ke||void 0===Ke?void 0:Ke.engine)||"",namespace:(null===Ke||void 0===Ke?void 0:Ke.namespace)||"",prefix:(null===Ke||void 0===Ke?void 0:Ke.prefix)||"",approle:{engine:(null===Ke||void 0===Ke||null===(q=Ke.approle)||void 0===q?void 0:q.engine)||"",id:(null===Ke||void 0===Ke||null===(R=Ke.approle)||void 0===R?void 0:R.id)||"",secret:(null===Ke||void 0===Ke||null===(G=Ke.approle)||void 0===G?void 0:G.secret)||"",retry:parseInt(null===Ke||void 0===Ke||null===(T=Ke.approle)||void 0===T?void 0:T.retry)}},L),{},{status:{ping:parseInt(null===Ke||void 0===Ke||null===(D=Ke.status)||void 0===D?void 0:D.ping)}})}}var U={},W={};null!==un&&void 0!==un&&un.encoded_key&&null!==un&&void 0!==un&&un.encoded_cert&&(W={client:{key:null===un||void 0===un?void 0:un.encoded_key,crt:null===un||void 0===un?void 0:un.encoded_cert}}),null!==Bn&&void 0!==Bn&&Bn.encoded_key&&null!==Bn&&void 0!==Bn&&Bn.encoded_cert&&(U={server:{key:null===Bn||void 0===Bn?void 0:Bn.encoded_key,crt:null===Bn||void 0===Bn?void 0:Bn.encoded_cert}});var O=(0,a.Z)((0,a.Z)((0,a.Z)({secretsToBeDeleted:Zn||[],replicas:ve,securityContext:be,image:xe},W),U),F);Je||(Xe(!0),m.Z.invoke("PUT","/api/v1/namespaces/".concat(null===ee||void 0===ee?void 0:ee.namespace,"/tenants/").concat(null===ee||void 0===ee?void 0:ee.name,"/encryption"),O).then((function(){ui(!1),Xe(!1),vi()})).catch((function(e){Xe(!1),ui(!1),ne(e)})))}else Je||(Xe(!0),m.Z.invoke("DELETE","/api/v1/namespaces/".concat(null===ee||void 0===ee?void 0:ee.namespace,"/tenants/").concat(null===ee||void 0===ee?void 0:ee.name,"/encryption"),{}).then((function(){vi(),Xe(!1)})).catch((function(e){Xe(!1),ne(e)})))},confirmationContent:(0,K.jsx)(f.Z,{children:te?"Data will be encrypted using and external KMS":"Current encrypted information will not be accessible"})}),(0,K.jsx)(Z.ZP,{item:!0,xs:!0,children:(0,K.jsx)("h1",{className:X.sectionTitle,children:"Encryption"})}),(0,K.jsx)(Z.ZP,{item:!0,xs:4,justifyContent:"end",textAlign:"right",children:(0,K.jsx)(p.Z,{label:"",indicatorLabels:["Enabled","Disabled"],checked:te,value:"tenant_encryption",id:"tenant-encryption",name:"tenant-encryption",onChange:function(){ae(!te)},description:""})}),(0,K.jsx)(Z.ZP,{xs:12,children:(0,K.jsx)("hr",{className:X.hrClass})}),te&&(0,K.jsxs)(s.Fragment,{children:[(0,K.jsx)(Z.ZP,{item:!0,xs:12,className:X.encryptionTypeOptions,children:(0,K.jsx)(y.Z,{currentSelection:de,id:"encryptionType",name:"encryptionType",label:"Encryption Options",onChange:function(e){se(e.target.value)},selectorOptions:[{label:"Vault",value:"vault"},{label:"AWS",value:"aws"},{label:"Gemalto",value:"gemalto"},{label:"GCP",value:"gcp"},{label:"Azure",value:"azure"}]})}),"vault"===de&&(0,K.jsxs)(s.Fragment,{children:[(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(g.Z,{id:"vault_endpoint",name:"vault_endpoint",onChange:function(e){return we((0,a.Z)((0,a.Z)({},Ke),{},{endpoint:e.target.value}))},label:"Endpoint",value:(null===Ke||void 0===Ke?void 0:Ke.endpoint)||"",error:ai.vault_ping||"",required:!0})}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(g.Z,{id:"vault_engine",name:"vault_engine",onChange:function(e){return we((0,a.Z)((0,a.Z)({},Ke),{},{engine:e.target.value}))},label:"Engine",value:(null===Ke||void 0===Ke?void 0:Ke.engine)||""})}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(g.Z,{id:"vault_namespace",name:"vault_namespace",onChange:function(e){return we((0,a.Z)((0,a.Z)({},Ke),{},{namespace:e.target.value}))},label:"Namespace",value:(null===Ke||void 0===Ke?void 0:Ke.namespace)||""})}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(g.Z,{id:"vault_prefix",name:"vault_prefix",onChange:function(e){return we((0,a.Z)((0,a.Z)({},Ke),{},{prefix:e.target.value}))},label:"Prefix",value:(null===Ke||void 0===Ke?void 0:Ke.prefix)||""})}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(P.Z,{children:"App Role"})}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(g.Z,{id:"vault_approle_engine",name:"vault_approle_engine",onChange:function(e){return we((0,a.Z)((0,a.Z)({},Ke),{},{approle:(0,a.Z)((0,a.Z)({},null===Ke||void 0===Ke?void 0:Ke.approle),{},{engine:e.target.value})}))},label:"Engine",value:(null===Ke||void 0===Ke||null===(n=Ke.approle)||void 0===n?void 0:n.engine)||""})}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(g.Z,{type:fn?"text":"password",id:"vault_id",name:"vault_id",onChange:function(e){return we((0,a.Z)((0,a.Z)({},Ke),{},{approle:(0,a.Z)((0,a.Z)({},null===Ke||void 0===Ke?void 0:Ke.approle),{},{id:e.target.value})}))},label:"AppRole ID",value:(null===Ke||void 0===Ke||null===(i=Ke.approle)||void 0===i?void 0:i.id)||"",required:!0,error:ai.vault_id||"",overlayIcon:fn?(0,K.jsx)(h.Z,{}):(0,K.jsx)(j.Z,{}),overlayAction:function(){return _n(!fn)}})}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(g.Z,{type:Pn?"text":"password",id:"vault_secret",name:"vault_secret",onChange:function(e){return we((0,a.Z)((0,a.Z)({},Ke),{},{approle:(0,a.Z)((0,a.Z)({},null===Ke||void 0===Ke?void 0:Ke.approle),{},{secret:e.target.value})}))},label:"AppRole Secret",value:(null===Ke||void 0===Ke||null===(r=Ke.approle)||void 0===r?void 0:r.secret)||"",required:!0,error:ai.vault_secret||"",overlayIcon:Pn?(0,K.jsx)(h.Z,{}):(0,K.jsx)(j.Z,{}),overlayAction:function(){return Kn(!Pn)}})}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(g.Z,{type:"number",min:"0",id:"vault_retry",name:"vault_retry",onChange:function(e){return we((0,a.Z)((0,a.Z)({},Ke),{},{approle:(0,a.Z)((0,a.Z)({},null===Ke||void 0===Ke?void 0:Ke.approle),{},{retry:e.target.value})}))},label:"Retry (Seconds)",error:ai.vault_retry||"",value:(null===Ke||void 0===Ke||null===(o=Ke.approle)||void 0===o?void 0:o.retry)||""})}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(P.Z,{children:"Vault Certificates (optional)"})}),(0,K.jsxs)(Z.ZP,{item:!0,xs:12,children:[(0,K.jsxs)("fieldset",{className:X.fieldGroup,children:[(0,K.jsx)("legend",{className:X.descriptionText,children:"Mutual TLS authentication with Vault (optional)"}),An?(0,K.jsx)(S.Z,{certificateInfo:An,onDelete:function(){return mi(An)}}):(0,K.jsxs)(s.Fragment,{children:[(0,K.jsx)(x.Z,{onChange:function(e,n){return Fn({encoded_key:e||"",id:(null===Dn||void 0===Dn?void 0:Dn.id)||"",key:n||"",cert:(null===Dn||void 0===Dn?void 0:Dn.cert)||"",encoded_cert:(null===Dn||void 0===Dn?void 0:Dn.encoded_cert)||""})},accept:".key,.pem",id:"vault_key",name:"vault_key",label:"Key",value:(null===Dn||void 0===Dn?void 0:Dn.key)||""}),(0,K.jsx)(x.Z,{onChange:function(e,n){return Fn({encoded_key:(null===Dn||void 0===Dn?void 0:Dn.encoded_key)||"",id:(null===Dn||void 0===Dn?void 0:Dn.id)||"",key:(null===Dn||void 0===Dn?void 0:Dn.key)||"",cert:n||"",encoded_cert:e||""})},accept:".cer,.crt,.cert,.pem",id:"vault_cert",name:"vault_cert",label:"Cert",value:(null===Dn||void 0===Dn?void 0:Dn.cert)||""})]})]}),(0,K.jsxs)("fieldset",{className:X.fieldGroup,children:[(0,K.jsx)("legend",{className:X.descriptionText,children:"Vault CA certificate (optional)"}),qn?(0,K.jsx)(S.Z,{certificateInfo:qn,onDelete:function(){return mi(qn)}}):(0,K.jsx)(x.Z,{onChange:function(e,n){return Hn({encoded_key:(null===On||void 0===On?void 0:On.encoded_key)||"",id:(null===On||void 0===On?void 0:On.id)||"",key:(null===On||void 0===On?void 0:On.key)||"",cert:n||"",encoded_cert:e||""})},accept:".cer,.crt,.cert,.pem",id:"vault_ca",name:"vault_ca",label:"CA",value:(null===On||void 0===On?void 0:On.cert)||""})]})]}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(P.Z,{children:"Status"})}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(g.Z,{type:"number",min:"0",id:"vault_ping",name:"vault_ping",onChange:function(e){return we((0,a.Z)((0,a.Z)({},Ke),{},{status:(0,a.Z)((0,a.Z)({},null===Ke||void 0===Ke?void 0:Ke.status),{},{ping:e.target.value})}))},label:"Ping (Seconds)",error:ai.vault_ping||"",value:(null===Ke||void 0===Ke||null===(d=Ke.status)||void 0===d?void 0:d.ping)||""})})]}),"azure"===de&&(0,K.jsxs)(s.Fragment,{children:[(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(g.Z,{id:"azure_endpoint",name:"azure_endpoint",onChange:function(e){return Me((0,a.Z)((0,a.Z)({},Fe),{},{keyvault:(0,a.Z)((0,a.Z)({},null===Fe||void 0===Fe?void 0:Fe.keyvault),{},{endpoint:e.target.value})}))},label:"Endpoint",error:ai.azure_endpoint||"",value:(null===Fe||void 0===Fe||null===(c=Fe.keyvault)||void 0===c?void 0:c.endpoint)||""})}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsxs)("fieldset",{className:X.fieldGroup,children:[(0,K.jsx)("legend",{className:X.descriptionText,children:"Credentials"}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(g.Z,{id:"azure_tenant_id",name:"azure_tenant_id",onChange:function(e){var n;return Me((0,a.Z)((0,a.Z)({},Fe),{},{keyvault:(0,a.Z)((0,a.Z)({},null===Fe||void 0===Fe?void 0:Fe.keyvault),{},{credentials:(0,a.Z)((0,a.Z)({},null===Fe||void 0===Fe||null===(n=Fe.keyvault)||void 0===n?void 0:n.credentials),{},{tenant_id:e.target.value})})}))},label:"Tenant ID",value:(null===Fe||void 0===Fe||null===(u=Fe.keyvault)||void 0===u||null===(v=u.credentials)||void 0===v?void 0:v.tenant_id)||"",error:ai.azure_tenant_id||""})}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(g.Z,{id:"azure_client_id",name:"azure_client_id",onChange:function(e){var n;return Me((0,a.Z)((0,a.Z)({},Fe),{},{keyvault:(0,a.Z)((0,a.Z)({},null===Fe||void 0===Fe?void 0:Fe.keyvault),{},{credentials:(0,a.Z)((0,a.Z)({},null===Fe||void 0===Fe||null===(n=Fe.keyvault)||void 0===n?void 0:n.credentials),{},{client_id:e.target.value})})}))},label:"Client ID",value:(null===Fe||void 0===Fe||null===(w=Fe.keyvault)||void 0===w||null===(N=w.credentials)||void 0===N?void 0:N.client_id)||"",error:ai.azure_client_id||""})}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(g.Z,{id:"azure_client_secret",name:"azure_client_secret",onChange:function(e){var n;return Me((0,a.Z)((0,a.Z)({},Fe),{},{keyvault:(0,a.Z)((0,a.Z)({},null===Fe||void 0===Fe?void 0:Fe.keyvault),{},{credentials:(0,a.Z)((0,a.Z)({},null===Fe||void 0===Fe||null===(n=Fe.keyvault)||void 0===n?void 0:n.credentials),{},{client_secret:e.target.value})})}))},label:"Client Secret",value:(null===Fe||void 0===Fe||null===(A=Fe.keyvault)||void 0===A||null===(I=A.credentials)||void 0===I?void 0:I.client_secret)||"",error:ai.azure_client_secret||""})})]})})]}),"gcp"===de&&(0,K.jsxs)(s.Fragment,{children:[(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(g.Z,{id:"gcp_project_id",name:"gcp_project_id",onChange:function(e){return Ue((0,a.Z)((0,a.Z)({},Le),{},{secretmanager:(0,a.Z)((0,a.Z)({},null===Le||void 0===Le?void 0:Le.secretmanager),{},{project_id:e.target.value})}))},label:"Project ID",value:(null===Le||void 0===Le?void 0:Le.secretmanager.project_id)||""})}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(g.Z,{id:"gcp_endpoint",name:"gcp_endpoint",onChange:function(e){return Ue((0,a.Z)((0,a.Z)({},Le),{},{secretmanager:(0,a.Z)((0,a.Z)({},null===Le||void 0===Le?void 0:Le.secretmanager),{},{endpoint:e.target.value})}))},label:"Endpoint",value:(null===Le||void 0===Le?void 0:Le.secretmanager.endpoint)||""})}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsxs)("fieldset",{className:X.fieldGroup,children:[(0,K.jsx)("legend",{className:X.descriptionText,children:"Credentials"}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(g.Z,{id:"gcp_client_email",name:"gcp_client_email",onChange:function(e){return Ue((0,a.Z)((0,a.Z)({},Le),{},{secretmanager:(0,a.Z)((0,a.Z)({},null===Le||void 0===Le?void 0:Le.secretmanager),{},{credentials:(0,a.Z)((0,a.Z)({},null===Le||void 0===Le?void 0:Le.secretmanager.credentials),{},{client_email:e.target.value})})}))},label:"Client Email",value:(null===Le||void 0===Le||null===(z=Le.secretmanager.credentials)||void 0===z?void 0:z.client_email)||""})}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(g.Z,{id:"gcp_client_id",name:"gcp_client_id",onChange:function(e){return Ue((0,a.Z)((0,a.Z)({},Le),{},{secretmanager:(0,a.Z)((0,a.Z)({},null===Le||void 0===Le?void 0:Le.secretmanager),{},{credentials:(0,a.Z)((0,a.Z)({},null===Le||void 0===Le?void 0:Le.secretmanager.credentials),{},{client_id:e.target.value})})}))},label:"Client ID",value:(null===Le||void 0===Le||null===(E=Le.secretmanager.credentials)||void 0===E?void 0:E.client_id)||""})}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(g.Z,{id:"gcp_private_key_id",name:"gcp_private_key_id",onChange:function(e){return Ue((0,a.Z)((0,a.Z)({},Le),{},{secretmanager:(0,a.Z)((0,a.Z)({},null===Le||void 0===Le?void 0:Le.secretmanager),{},{credentials:(0,a.Z)((0,a.Z)({},null===Le||void 0===Le?void 0:Le.secretmanager.credentials),{},{private_key_id:e.target.value})})}))},label:"Private Key ID",value:(null===Le||void 0===Le||null===(q=Le.secretmanager.credentials)||void 0===q?void 0:q.private_key_id)||""})}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(g.Z,{id:"gcp_private_key",name:"gcp_private_key",onChange:function(e){return Ue((0,a.Z)((0,a.Z)({},Le),{},{secretmanager:(0,a.Z)((0,a.Z)({},null===Le||void 0===Le?void 0:Le.secretmanager),{},{credentials:(0,a.Z)((0,a.Z)({},null===Le||void 0===Le?void 0:Le.secretmanager.credentials),{},{private_key:e.target.value})})}))},label:"Private Key",value:(null===Le||void 0===Le||null===(R=Le.secretmanager.credentials)||void 0===R?void 0:R.private_key)||""})})]})})]}),"aws"===de&&(0,K.jsxs)(s.Fragment,{children:[(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(g.Z,{id:"aws_endpoint",name:"aws_endpoint",onChange:function(e){return ze((0,a.Z)((0,a.Z)({},Ie),{},{secretsmanager:(0,a.Z)((0,a.Z)({},null===Ie||void 0===Ie?void 0:Ie.secretsmanager),{},{endpoint:e.target.value})}))},label:"Endpoint",value:(null===Ie||void 0===Ie||null===(G=Ie.secretsmanager)||void 0===G?void 0:G.endpoint)||"",required:!0,error:ai.aws_endpoint||""})}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(g.Z,{id:"aws_region",name:"aws_region",onChange:function(e){return ze((0,a.Z)((0,a.Z)({},Ie),{},{secretsmanager:(0,a.Z)((0,a.Z)({},null===Ie||void 0===Ie?void 0:Ie.secretsmanager),{},{region:e.target.value})}))},label:"Region",value:(null===Ie||void 0===Ie||null===(T=Ie.secretsmanager)||void 0===T?void 0:T.region)||"",error:ai.aws_region||"",required:!0})}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(g.Z,{id:"aws_kmsKey",name:"aws_kmsKey",onChange:function(e){return ze((0,a.Z)((0,a.Z)({},Ie),{},{secretsmanager:(0,a.Z)((0,a.Z)({},null===Ie||void 0===Ie?void 0:Ie.secretsmanager),{},{kmskey:e.target.value})}))},label:"KMS Key",value:(null===Ie||void 0===Ie||null===(D=Ie.secretsmanager)||void 0===D?void 0:D.kmskey)||""})}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsxs)("fieldset",{className:X.fieldGroup,children:[(0,K.jsx)("legend",{className:X.descriptionText,children:"Credentials"}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(g.Z,{id:"aws_accessKey",name:"aws_accessKey",onChange:function(e){var n;return ze((0,a.Z)((0,a.Z)({},Ie),{},{secretsmanager:(0,a.Z)((0,a.Z)({},null===Ie||void 0===Ie?void 0:Ie.secretsmanager),{},{credentials:(0,a.Z)((0,a.Z)({},null===Ie||void 0===Ie||null===(n=Ie.secretsmanager)||void 0===n?void 0:n.credentials),{},{accesskey:e.target.value})})}))},label:"Access Key",value:(null===Ie||void 0===Ie||null===(F=Ie.secretsmanager)||void 0===F||null===(M=F.credentials)||void 0===M?void 0:M.accesskey)||"",error:ai.aws_accessKey||"",required:!0})}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(g.Z,{id:"aws_secretKey",name:"aws_secretKey",onChange:function(e){var n;return ze((0,a.Z)((0,a.Z)({},Ie),{},{secretsmanager:(0,a.Z)((0,a.Z)({},null===Ie||void 0===Ie?void 0:Ie.secretsmanager),{},{credentials:(0,a.Z)((0,a.Z)({},null===Ie||void 0===Ie||null===(n=Ie.secretsmanager)||void 0===n?void 0:n.credentials),{},{secretkey:e.target.value})})}))},label:"Secret Key",value:(null===Ie||void 0===Ie||null===(V=Ie.secretsmanager)||void 0===V||null===(B=V.credentials)||void 0===B?void 0:B.secretkey)||"",error:ai.aws_secretKey||"",required:!0})}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(g.Z,{id:"aws_token",name:"aws_token",onChange:function(e){var n;return ze((0,a.Z)((0,a.Z)({},Ie),{},{secretsmanager:(0,a.Z)((0,a.Z)({},null===Ie||void 0===Ie?void 0:Ie.secretsmanager),{},{credentials:(0,a.Z)((0,a.Z)({},null===Ie||void 0===Ie||null===(n=Ie.secretsmanager)||void 0===n?void 0:n.credentials),{},{token:e.target.value})})}))},label:"Token",value:(null===Ie||void 0===Ie||null===(L=Ie.secretsmanager)||void 0===L||null===(U=L.credentials)||void 0===U?void 0:U.token)||""})})]})})]}),"gemalto"===de&&(0,K.jsxs)(s.Fragment,{children:[(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(g.Z,{id:"gemalto_endpoint",name:"gemalto_endpoint",onChange:function(e){return Ge((0,a.Z)((0,a.Z)({},Re),{},{keysecure:(0,a.Z)((0,a.Z)({},null===Re||void 0===Re?void 0:Re.keysecure),{},{endpoint:e.target.value})}))},label:"Endpoint",value:(null===Re||void 0===Re||null===(W=Re.keysecure)||void 0===W?void 0:W.endpoint)||"",error:ai.gemalto_endpoint||"",required:!0})}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,style:{marginBottom:15},children:(0,K.jsxs)("fieldset",{className:X.fieldGroup,children:[(0,K.jsx)("legend",{className:X.descriptionText,children:"Credentials"}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(g.Z,{id:"gemalto_token",name:"gemalto_token",onChange:function(e){var n;return Ge((0,a.Z)((0,a.Z)({},Re),{},{keysecure:(0,a.Z)((0,a.Z)({},null===Re||void 0===Re?void 0:Re.keysecure),{},{credentials:(0,a.Z)((0,a.Z)({},null===Re||void 0===Re||null===(n=Re.keysecure)||void 0===n?void 0:n.credentials),{},{token:e.target.value})})}))},label:"Token",value:(null===Re||void 0===Re||null===(O=Re.keysecure)||void 0===O||null===(H=O.credentials)||void 0===H?void 0:H.token)||"",error:ai.gemalto_token||"",required:!0})}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(g.Z,{id:"gemalto_domain",name:"gemalto_domain",onChange:function(e){var n;return Ge((0,a.Z)((0,a.Z)({},Re),{},{keysecure:(0,a.Z)((0,a.Z)({},null===Re||void 0===Re?void 0:Re.keysecure),{},{credentials:(0,a.Z)((0,a.Z)({},null===Re||void 0===Re||null===(n=Re.keysecure)||void 0===n?void 0:n.credentials),{},{domain:e.target.value})})}))},label:"Domain",value:(null===Re||void 0===Re||null===(Y=Re.keysecure)||void 0===Y||null===(Q=Y.credentials)||void 0===Q?void 0:Q.domain)||"",error:ai.gemalto_domain||"",required:!0})}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(g.Z,{type:"number",min:"0",id:"gemalto_retry",name:"gemalto_retry",onChange:function(e){var n;return Ge((0,a.Z)((0,a.Z)({},Re),{},{keysecure:(0,a.Z)((0,a.Z)({},null===Re||void 0===Re?void 0:Re.keysecure),{},{credentials:(0,a.Z)((0,a.Z)({},null===Re||void 0===Re||null===(n=Re.keysecure)||void 0===n?void 0:n.credentials),{},{retry:e.target.value})})}))},label:"Retry (seconds)",value:(null===Re||void 0===Re||null===($=Re.keysecure)||void 0===$||null===(J=$.credentials)||void 0===J?void 0:J.retry)||"",error:ai.gemalto_retry||""})})]})}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,style:{marginBottom:15},children:(0,K.jsxs)("fieldset",{className:X.fieldGroup,children:[(0,K.jsx)("legend",{className:X.descriptionText,children:"Custom CA Root certificate verification"}),$n?(0,K.jsx)(S.Z,{certificateInfo:$n,onDelete:function(){return mi($n)}}):(0,K.jsx)(x.Z,{onChange:function(e,n){return ii({encoded_key:(null===ni||void 0===ni?void 0:ni.encoded_key)||"",id:(null===ni||void 0===ni?void 0:ni.id)||"",key:(null===ni||void 0===ni?void 0:ni.key)||"",cert:n||"",encoded_cert:e||""})},accept:".cer,.crt,.cert,.pem",id:"gemalto_ca",name:"gemalto_ca",label:"CA",value:(null===ni||void 0===ni?void 0:ni.cert)||""})]})})]}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(P.Z,{children:"Additional Configuration for KES"})}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(p.Z,{value:"enableCustomCertsForKES",id:"enableCustomCertsForKES",name:"enableCustomCertsForKES",checked:He,onChange:function(){return Ye(!He)},label:"Custom Certificates"})}),He&&(0,K.jsxs)(s.Fragment,{children:[(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsxs)("fieldset",{className:X.fieldGroup,children:[(0,K.jsx)("legend",{className:X.descriptionText,children:"KES server TLS Certificates (optional)"}),ln?(0,K.jsx)(S.Z,{certificateInfo:ln,onDelete:function(){return mi(ln)}}):(0,K.jsxs)(s.Fragment,{children:[(0,K.jsx)(x.Z,{onChange:function(e,n){Ln({encoded_key:e||"",id:(null===Bn||void 0===Bn?void 0:Bn.id)||"",key:n||"",cert:(null===Bn||void 0===Bn?void 0:Bn.cert)||"",encoded_cert:(null===Bn||void 0===Bn?void 0:Bn.encoded_cert)||""}),oi("serverKey")},accept:".key,.pem",id:"serverKey",name:"serverKey",label:"Key",value:null===Bn||void 0===Bn?void 0:Bn.key}),(0,K.jsx)(x.Z,{onChange:function(e,n){Ln({encoded_key:(null===Bn||void 0===Bn?void 0:Bn.encoded_key)||"",id:(null===Bn||void 0===Bn?void 0:Bn.id)||"",key:(null===Bn||void 0===Bn?void 0:Bn.key)||"",cert:n||"",encoded_cert:e||""}),oi("serverCert")},accept:".cer,.crt,.cert,.pem",id:"serverCert",name:"serverCert",label:"Cert",value:null===Bn||void 0===Bn?void 0:Bn.cert})]})]})}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsxs)("fieldset",{className:X.fieldGroup,children:[(0,K.jsx)("legend",{className:X.descriptionText,children:"Mutual TLS authentication with MinIO (optional)"}),on?(0,K.jsx)(S.Z,{certificateInfo:on,onDelete:function(){return mi(on)}}):(0,K.jsxs)(s.Fragment,{children:[(0,K.jsx)(x.Z,{onChange:function(e,n){vn({encoded_key:e||"",id:(null===un||void 0===un?void 0:un.id)||"",key:n||"",cert:(null===un||void 0===un?void 0:un.cert)||"",encoded_cert:(null===un||void 0===un?void 0:un.encoded_cert)||""}),oi("clientKey")},accept:".key,.pem",id:"clientKey",name:"clientKey",label:"Key",value:null===un||void 0===un?void 0:un.key}),(0,K.jsx)(x.Z,{onChange:function(e,n){vn({encoded_key:(null===un||void 0===un?void 0:un.encoded_key)||"",id:(null===un||void 0===un?void 0:un.id)||"",key:(null===un||void 0===un?void 0:un.key)||"",cert:n||"",encoded_cert:e||""}),oi("clientCert")},accept:".cer,.crt,.cert,.pem",id:"clientCert",name:"clientCert",label:"Cert",value:null===un||void 0===un?void 0:un.cert})]})]})})]}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(g.Z,{type:"text",id:"image",name:"image",onChange:function(e){return ge(e.target.value)},label:"Image",placeholder:"minio/kes:v0.17.6",value:xe})}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(g.Z,{type:"number",min:"1",id:"replicas",name:"replicas",onChange:function(e){return me(e.target.value)},label:"Replicas",value:ve,required:!0,error:ai.replicas||""})}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(P.Z,{children:"SecurityContext for KES"})}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsxs)("div",{className:"".concat(X.multiContainer," ").concat(X.responsiveContainer),children:[(0,K.jsx)("div",{className:"".concat(X.formFieldRow," ").concat(X.rightSpacer),children:(0,K.jsx)(g.Z,{type:"number",id:"kes_securityContext_runAsUser",name:"kes_securityContext_runAsUser",onChange:function(e){Ce((0,a.Z)((0,a.Z)({},be),{},{runAsUser:e.target.value}))},label:"Run As User",value:be.runAsUser,required:!0,error:ai.kes_securityContext_runAsUser||"",min:"0"})}),(0,K.jsx)("div",{className:"".concat(X.formFieldRow," ").concat(X.rightSpacer),children:(0,K.jsx)(g.Z,{type:"number",id:"kes_securityContext_runAsGroup",name:"kes_securityContext_runAsGroup",onChange:function(e){Ce((0,a.Z)((0,a.Z)({},be),{},{runAsGroup:e.target.value}))},label:"Run As Group",value:be.runAsGroup,required:!0,error:ai.kes_securityContext_runAsGroup||"",min:"0"})}),(0,K.jsx)("div",{className:"".concat(X.formFieldRow," ").concat(X.rightSpacer),children:(0,K.jsx)(g.Z,{type:"number",id:"kes_securityContext_fsGroup",name:"kes_securityContext_fsGroup",onChange:function(e){Ce((0,a.Z)((0,a.Z)({},be),{},{fsGroup:e.target.value}))},label:"FsGroup",value:be.fsGroup,required:!0,error:ai.kes_securityContext_fsGroup||"",min:"0"})})]})}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,children:(0,K.jsx)(p.Z,{value:"kesSecurityContextRunAsNonRoot",id:"kes_securityContext_runAsNonRoot",name:"kes_securityContext_runAsNonRoot",checked:be.runAsNonRoot,onChange:function(e){var n=e.target.checked;Ce((0,a.Z)((0,a.Z)({},be),{},{runAsNonRoot:n}))},label:"Do not run as Root"})})]}),(0,K.jsx)(Z.ZP,{item:!0,xs:12,textAlign:"right",children:(0,K.jsx)(_.Z,{type:"submit",variant:"contained",color:"primary",disabled:!kn,onClick:function(){return ui(!0)},children:"Save"})})]})})})))},22512:function(e,n,i){var l=i(72791),t=i(20890),a=i(11135),r=i(25787),o=i(80184);n.Z=(0,r.Z)((function(e){var n;return(0,a.Z)({errorBlock:{color:(null===(n=e.palette)||void 0===n?void 0:n.error.main)||"#C83B51"}})}))((function(e){var n=e.classes,i=e.errorMessage,a=e.withBreak,r=void 0===a||a;return(0,o.jsxs)(l.Fragment,{children:[r&&(0,o.jsx)("br",{}),(0,o.jsx)(t.Z,{component:"p",variant:"body1",className:n.errorBlock,children:i})]})}))},3579:function(e,n,i){var l=i(95318);n.Z=void 0;var t=l(i(45649)),a=i(80184),r=(0,t.default)((0,a.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"RemoveRedEye");n.Z=r},20165:function(e,n,i){var l=i(95318);n.Z=void 0;var t=l(i(45649)),a=i(80184),r=(0,t.default)((0,a.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff");n.Z=r}}]);
//# sourceMappingURL=6683.0a047d81.chunk.js.map