"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[2483],{82483:function(e,t,n){n.r(t),n.d(t,{default:function(){return B}});var i,a=n(29439),r=n(1413),o=n(72791),s=n(60364),l=n(63466),c=n(40986),d=n(11135),m=n(72455),h=n(25787),u=n(36151),g=n(27391),p=n(61889);!function(e){e.unknown="unknown",e.form="form",e.redirect="redirect",e.serviceAccount="service-account"}(i||(i={}));var x=n(42649),f=n(81207),v=n(62666),j=n(28789),Z=n(28057),b=n(45248),w=n(93656),S=n(23814),y=n(4708),P=n(80184),N=function(e){return(0,P.jsx)("svg",(0,r.Z)((0,r.Z)({xmlns:"http://www.w3.org/2000/svg",className:"min-icon",fill:"currentcolor",viewBox:"0 0 12 12"},e),{},{children:(0,P.jsx)("path",{id:"Path_7819","data-name":"Path 7819",d:"M9.884,3.523H8.537V2.27A2.417,2.417,0,0,0,6,0,2.417,2.417,0,0,0,3.463,2.27V3.523H2.116A2.019,2.019,0,0,0,0,5.423V9.413a2.012,2.012,0,0,0,2.062,1.9L6,12l3.938-.688A2.012,2.012,0,0,0,12,9.413V5.423a2.019,2.019,0,0,0-2.116-1.9M6.5,7.658v.724a.474.474,0,0,1-.472.474H5.971A.474.474,0,0,1,5.5,8.381V7.658a.9.9,0,0,1-.394-.744h0a.894.894,0,1,1,1.4.744m.985-4.135H4.514V2.27A1.416,1.416,0,0,1,6,.94,1.416,1.416,0,0,1,7.486,2.27Z",fill:"#071d43"})}))},L=function(e){return(0,P.jsxs)("svg",(0,r.Z)((0,r.Z)({xmlns:"http://www.w3.org/2000/svg",className:"min-icon",fill:"currentcolor",viewBox:"0 0 9.008 12"},e),{},{children:[(0,P.jsx)("defs",{children:(0,P.jsx)("clipPath",{id:"clip-path",children:(0,P.jsx)("rect",{id:"Rectangle_991","data-name":"Rectangle 991",width:"9.008",height:"12",fill:"#071d43"})})}),(0,P.jsxs)("g",{id:"Group_2365","data-name":"Group 2365",clipPath:"url(#clip-path)",children:[(0,P.jsx)("path",{id:"Path_7088","data-name":"Path 7088",d:"M26.843,6.743a3.4,3.4,0,0,0,3.411-3.372,3.411,3.411,0,0,0-6.822,0,3.4,3.4,0,0,0,3.411,3.372",transform:"translate(-22.334)",fill:"#071d43"}),(0,P.jsx)("path",{id:"Path_7089","data-name":"Path 7089",d:"M8.639,157.057a5.164,5.164,0,0,0-1.957-1.538,5.438,5.438,0,0,0-1.083-.362,5.2,5.2,0,0,0-1.117-.123c-.075,0-.151,0-.225.005H4.231a4.928,4.928,0,0,0-.549.059,5.236,5.236,0,0,0-3.276,1.92c-.029.039-.059.078-.086.116h0a1.723,1.723,0,0,0-.134,1.784,1.583,1.583,0,0,0,.255.356,1.559,1.559,0,0,0,.337.267,1.613,1.613,0,0,0,.4.167,1.742,1.742,0,0,0,.449.058H7.389a1.747,1.747,0,0,0,.452-.058,1.593,1.593,0,0,0,.4-.169,1.524,1.524,0,0,0,.335-.271,1.548,1.548,0,0,0,.251-.361,1.761,1.761,0,0,0-.191-1.85",transform:"translate(0.001 -147.766)",fill:"#071d43"})]})]}))},k=n(25183),A=function(e){return(0,P.jsx)("svg",(0,r.Z)((0,r.Z)({xmlns:"http://www.w3.org/2000/svg",className:"min-icon",fill:"currentcolor",viewBox:"0 0 7.819 7.621"},e),{},{children:(0,P.jsx)("path",{id:"github",d:"M8.543,4.917a4.146,4.146,0,0,1-.038.424,3.8,3.8,0,0,1-.8,1.816,3.982,3.982,0,0,1-.514.542,3.72,3.72,0,0,1-.8.531,4.287,4.287,0,0,1-.471.2.286.286,0,0,1-.149.02.174.174,0,0,1-.153-.163c0-.028,0-.056,0-.084V7.214A1.867,1.867,0,0,0,5.6,6.94a.794.794,0,0,0-.239-.477l.229-.035a2.168,2.168,0,0,0,.821-.291,1.347,1.347,0,0,0,.572-.691,2.291,2.291,0,0,0,.14-.592,2.689,2.689,0,0,0,.01-.488,1.44,1.44,0,0,0-.341-.824L6.747,3.49a.076.076,0,0,1-.007-.013A1.352,1.352,0,0,0,6.7,2.445a.478.478,0,0,0-.317.019,2.726,2.726,0,0,0-.62.289l-.137.086a4.467,4.467,0,0,0-.645-.114,4.047,4.047,0,0,0-.663,0,4.241,4.241,0,0,0-.651.115l-.126-.08a2.786,2.786,0,0,0-.643-.3.5.5,0,0,0-.311-.022,1.364,1.364,0,0,0-.038,1.031l-.154.206a1.392,1.392,0,0,0-.227.6,2.519,2.519,0,0,0,0,.578,2.17,2.17,0,0,0,.178.675,1.356,1.356,0,0,0,.609.65,2.294,2.294,0,0,0,.84.258l.131.02a.874.874,0,0,0-.243.515.793.793,0,0,1-.254.085c-.071.012-.141.014-.212.019a.623.623,0,0,1-.495-.2A1.545,1.545,0,0,1,2.578,6.7c-.047-.061-.084-.128-.135-.185a.8.8,0,0,0-.432-.256.347.347,0,0,0-.189.005.389.389,0,0,0-.048.025.126.126,0,0,0,.049.121.521.521,0,0,0,.112.091.712.712,0,0,1,.188.165,1.542,1.542,0,0,1,.233.41.721.721,0,0,0,.585.456,1.773,1.773,0,0,0,.424.032l.212-.022.083-.01.005.069,0,.527,0,.152a.176.176,0,0,1-.2.165.344.344,0,0,1-.1-.021,3.873,3.873,0,0,1-.74-.341,3.772,3.772,0,0,1-.838-.681,4.309,4.309,0,0,1-.445-.57A3.833,3.833,0,0,1,1,6.16a3.936,3.936,0,0,1-.216-.793L.749,5.079a4.242,4.242,0,0,1,0-.7,3.848,3.848,0,0,1,.57-1.705A3.9,3.9,0,0,1,3.053,1.159,3.716,3.716,0,0,1,4,.878,4.223,4.223,0,0,1,4.768.831a4.158,4.158,0,0,1,.523.047,3.674,3.674,0,0,1,.862.246,3.964,3.964,0,0,1,.975.59,3.793,3.793,0,0,1,.609.629,3.933,3.933,0,0,1,.585,1.066,4.2,4.2,0,0,1,.23,1.136l-.011.372h0Z",transform:"translate(-0.734 -0.829)"})}))},C=n(28182),I=n(72401),E=(0,m.Z)((function(e){return(0,d.Z)({root:{"& .MuiOutlinedInput-root":{paddingLeft:0,"& svg":{marginLeft:4,height:14,color:e.palette.primary.main},"& input":{padding:10,fontSize:14,paddingLeft:0,"&::placeholder":{fontSize:12},"@media (max-width: 900px)":{padding:10}},"& fieldset":{},"& fieldset:hover":{borderBottom:"2px solid #000000",borderRadius:0}}}})}));function T(e){var t=E();return(0,P.jsx)(g.Z,(0,r.Z)({classes:{root:t.root},variant:"standard"},e))}var B=(0,s.$j)((function(e){return{loggedIn:e.loggedIn}}),{userLoggedIn:x.nD,setErrorSnackMessage:x.Ih})((0,h.Z)((function(e){return(0,d.Z)((0,r.Z)({root:{position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"auto"},form:{width:"100%"},submit:{margin:"30px 0px 8px",height:40,width:"100%",boxShadow:"none",padding:"16px 30px"},learnMore:{textAlign:"center",fontSize:10,"& a":{color:"#2781B0"},"& .min-icon":{marginLeft:12,marginTop:2,width:10}},separator:{marginLeft:8,marginRight:8},linkHolder:{marginTop:20},miniLinks:{margin:"auto",fontSize:10,textAlign:"center",color:"#B2DEF5","& a":{color:"#B2DEF5",textDecoration:"none"},"& .min-icon":{height:10,color:"#B2DEF5"}},miniLogo:{marginTop:8,"& .min-icon":{height:12,paddingTop:2}},loginPage:{height:"100%",margin:"auto"},loginContainer:{flexDirection:"column","& .right-items":{backgroundColor:"white",borderRadius:3,boxShadow:"6px 6px 50",padding:20},"& .consoleTextBanner":{fontWeight:300,fontSize:"calc(3vw + 3vh + 1.5vmin)",lineHeight:1.15,color:"#ffffff",flex:1,textAlign:"center",height:"100%",display:"flex",justifyContent:"flex-start",margin:"auto","& .logoLine":{display:"flex",alignItems:"center",fontSize:18,marginTop:40},"& .left-items":{margin:"auto",paddingTop:100,paddingBottom:60},"& .left-logo":{"& .min-icon":{color:"white",width:108},marginBottom:10},"& .text-line1":{font:" 100 44px 'Lato'"},"& .text-line2":{fontSize:80,fontWeight:100,textTransform:"uppercase"},"& .text-line3":{fontSize:14,fontWeight:"bold"},"& .logo-console":{display:"flex",alignItems:"center","@media (max-width: 900px)":{marginTop:20,flexFlow:"column","& svg":{width:"50%"}}}}},"@media (max-width: 900px)":{loginContainer:{display:"flex",flexFlow:"column","& .consoleTextBanner":{margin:0,flex:2,"& .left-items":{alignItems:"center",textAlign:"center"},"& .logoLine":{justifyContent:"center"}}}},loadingLoginStrategy:{textAlign:"center",width:40,height:40},headerTitle:{marginRight:"auto",marginBottom:15},submitContainer:{textAlign:"right"},linearPredef:{height:10},loaderAlignment:{display:"flex",width:"100%",height:"100%",justifyContent:"center",alignItems:"center",flexDirection:"column"},retryButton:{alignSelf:"flex-end"},loginComponentContainer:{maxWidth:360,width:"100%",alignSelf:"center"}},S.bK))}))((function(e){var t=e.classes,n=e.userLoggedIn,r=e.setErrorSnackMessage,s=(0,o.useState)(""),d=(0,a.Z)(s,2),m=d[0],h=d[1],g=(0,o.useState)(""),x=(0,a.Z)(g,2),S=x[0],E=x[1],B=(0,o.useState)(""),_=(0,a.Z)(B,2),M=_[0],F=_[1],z=(0,o.useState)({loginStrategy:i.unknown,redirect:""}),H=(0,a.Z)(z,2),R=H[0],D=H[1],V=(0,o.useState)(!1),W=(0,a.Z)(V,2),K=W[0],G=W[1],O=(0,o.useState)(!0),Y=(0,a.Z)(O,2),q=Y[0],J=Y[1],U=(0,o.useState)(""),$=(0,a.Z)(U,2),Q=$[0],X=$[1],ee=(0,o.useState)(!0),te=(0,a.Z)(ee,2),ne=te[0],ie=te[1],ae={form:"/api/v1/login","service-account":"/api/v1/login/operator"},re={form:{accessKey:m,secretKey:M},"service-account":{jwt:S}},oe=function(e){e.preventDefault(),G(!0),f.Z.invoke("POST",ae[R.loginStrategy]||"/api/v1/login",re[R.loginStrategy]).then((function(){n(!0),R.loginStrategy===i.form&&localStorage.setItem("userLoggedIn",(0,b.ug)(m));var e="/";localStorage.getItem("redirect-path")&&""!==localStorage.getItem("redirect-path")&&(e="".concat(localStorage.getItem("redirect-path")),localStorage.setItem("redirect-path","")),v.Z.push(e)})).catch((function(e){G(!1),r(e)}))};(0,o.useEffect)((function(){q&&f.Z.invoke("GET","/api/v1/login").then((function(e){D(e),J(!1)})).catch((function(e){r(e),J(!1)}))}),[q,r]),(0,o.useEffect)((function(){ne&&f.Z.invoke("GET","/api/v1/check-version").then((function(e){e.current_version;var t=e.latest_version;X(t),ie(!1)})).catch((function(e){f.Z.invoke("GET","/api/v1/check-operator-version").then((function(e){e.current_version;var t=e.latest_version;X(t),ie(!1)})).catch((function(e){ie(!1)}))}))}),[ne,ie,X]);var se=null;switch(R.loginStrategy){case i.form:se=(0,P.jsx)(o.Fragment,{children:(0,P.jsxs)("form",{className:t.form,noValidate:!0,onSubmit:oe,children:[(0,P.jsxs)(p.ZP,{container:!0,spacing:2,children:[(0,P.jsx)(p.ZP,{item:!0,xs:12,className:t.spacerBottom,children:(0,P.jsx)(T,{fullWidth:!0,id:"accessKey",className:t.inputField,value:m,onChange:function(e){return h(e.target.value)},placeholder:"Username",name:"accessKey",autoComplete:"username",disabled:K,variant:"outlined",InputProps:{startAdornment:(0,P.jsx)(l.Z,{position:"start",className:t.iconColor,children:(0,P.jsx)(L,{})})}})}),(0,P.jsx)(p.ZP,{item:!0,xs:12,children:(0,P.jsx)(T,{fullWidth:!0,className:t.inputField,value:M,onChange:function(e){return F(e.target.value)},name:"secretKey",type:"password",id:"secretKey",autoComplete:"current-password",disabled:K,placeholder:"Password",variant:"outlined",InputProps:{startAdornment:(0,P.jsx)(l.Z,{position:"start",className:t.iconColor,children:(0,P.jsx)(N,{})})}})})]}),(0,P.jsx)(p.ZP,{item:!0,xs:12,className:t.submitContainer,children:(0,P.jsx)(u.Z,{type:"submit",variant:"contained",color:"primary",id:"do-login",className:t.submit,disabled:""===M||""===m||K,children:"Login"})}),(0,P.jsx)(p.ZP,{item:!0,xs:12,className:t.linearPredef,children:K&&(0,P.jsx)(c.Z,{})})]})});break;case i.redirect:se=(0,P.jsx)(o.Fragment,{children:(0,P.jsx)(u.Z,{component:"a",href:R.redirect,type:"submit",variant:"contained",color:"primary",id:"sso-login",className:t.submit,children:"Login with SSO"})});break;case i.serviceAccount:se=(0,P.jsx)(o.Fragment,{children:(0,P.jsxs)("form",{className:t.form,noValidate:!0,onSubmit:oe,children:[(0,P.jsx)(p.ZP,{container:!0,spacing:2,children:(0,P.jsx)(p.ZP,{item:!0,xs:12,children:(0,P.jsx)(T,{required:!0,className:t.inputField,fullWidth:!0,id:"jwt",value:S,onChange:function(e){return E(e.target.value)},name:"jwt",autoComplete:"off",disabled:K,placeholder:"Enter JWT",variant:"outlined",InputProps:{startAdornment:(0,P.jsx)(l.Z,{position:"start",children:(0,P.jsx)(w.mB,{})})}})})}),(0,P.jsx)(p.ZP,{item:!0,xs:12,className:t.submitContainer,children:(0,P.jsx)(u.Z,{type:"submit",variant:"contained",color:"primary",id:"do-login",className:t.submit,disabled:""===S||K,children:"Login"})}),(0,P.jsx)(p.ZP,{item:!0,xs:12,className:t.linearPredef,children:K&&(0,P.jsx)(c.Z,{})})]})});break;default:se=(0,P.jsx)("div",{className:t.loaderAlignment,children:q?(0,P.jsx)(I.Z,{className:t.loadingLoginStrategy}):(0,P.jsxs)(o.Fragment,{children:[(0,P.jsx)("div",{children:(0,P.jsxs)("p",{style:{color:"#000",textAlign:"center"},children:["An error has occurred",(0,P.jsx)("br",{}),"The backend cannot be reached."]})}),(0,P.jsx)("div",{children:(0,P.jsx)(u.Z,{onClick:function(){J(!0)},endIcon:(0,P.jsx)(j.default,{}),color:"primary",variant:"outlined",id:"retry",className:t.retryButton,children:"Retry"})})]})})}var le=R.loginStrategy===i.serviceAccount?"Operator":"Console";return(0,P.jsxs)("div",{className:t.root,children:[(0,P.jsx)(y.ZP,{}),(0,P.jsx)(Z.Z,{}),(0,P.jsx)("div",{className:t.loginPage,children:(0,P.jsxs)(p.ZP,{container:!0,className:t.loginContainer,children:[(0,P.jsx)(p.ZP,{item:!0,className:"consoleTextBanner",xs:12,children:(0,P.jsxs)("div",{className:"left-items",children:[(0,P.jsx)("div",{className:"left-logo",children:(0,P.jsx)(w.BH,{})}),(0,P.jsx)("div",{className:"text-line2",children:le}),(0,P.jsx)("div",{className:"text-line3",children:"Multi-Cloud Object Storage"})]})}),(0,P.jsxs)(p.ZP,{item:!0,className:"right-items ".concat(t.loginComponentContainer),xs:12,children:[se,(0,P.jsx)("div",{className:t.learnMore,children:(0,P.jsxs)("a",{href:"https://docs.min.io/minio/baremetal/console/minio-console.html?ref=con",target:"_blank",rel:"noreferrer",children:["Learn more about Console ",(0,P.jsx)(w.LZ,{})]})})]}),(0,P.jsxs)(p.ZP,{item:!0,xs:12,className:t.linkHolder,children:[(0,P.jsxs)("div",{className:t.miniLinks,children:[(0,P.jsxs)("a",{href:"https://docs.min.io/?ref=con",target:"_blank",rel:"noreferrer",children:[(0,P.jsx)(w.cY,{})," Documentation"]}),(0,P.jsx)("span",{className:t.separator,children:"|"}),(0,P.jsxs)("a",{href:"https://github.com/minio/minio",target:"_blank",rel:"noreferrer",children:[(0,P.jsx)(A,{})," Github"]}),(0,P.jsx)("span",{className:t.separator,children:"|"}),(0,P.jsxs)("a",{href:"https://subnet.min.io/?ref=con",target:"_blank",rel:"noreferrer",children:[(0,P.jsx)(k.aw,{})," Support"]}),(0,P.jsx)("span",{className:t.separator,children:"|"}),(0,P.jsxs)("a",{href:"https://min.io/download/?ref=con",target:"_blank",rel:"noreferrer",children:[(0,P.jsx)(w._8,{})," Download"]})]}),(0,P.jsx)("div",{className:(0,C.Z)(t.miniLinks,t.miniLogo),children:(0,P.jsxs)("a",{href:"https://github.com/minio/minio/releases",target:"_blank",rel:"noreferrer",style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:20},children:[(0,P.jsx)(w.YE,{})," Latest Version"," ",!ne&&""!==Q&&(0,P.jsx)(o.Fragment,{children:Q})]})})]})]})})]})})))},63466:function(e,t,n){n.d(t,{Z:function(){return w}});var i=n(4942),a=n(63366),r=n(87462),o=n(72791),s=n(28182),l=n(90767),c=n(14036),d=n(20890),m=n(93840),h=n(52930),u=n(47630),g=n(95159);function p(e){return(0,g.Z)("MuiInputAdornment",e)}var x,f=(0,n(30208).Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),v=n(93736),j=n(80184),Z=["children","className","component","disablePointerEvents","disableTypography","position","variant"],b=(0,u.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["position".concat((0,c.Z)(n.position))],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,r.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:t.palette.action.active},"filled"===n.variant&&(0,i.Z)({},"&.".concat(f.positionStart,"&:not(.").concat(f.hiddenLabel,")"),{marginTop:16}),"start"===n.position&&{marginRight:8},"end"===n.position&&{marginLeft:8},!0===n.disablePointerEvents&&{pointerEvents:"none"})})),w=o.forwardRef((function(e,t){var n=(0,v.Z)({props:e,name:"MuiInputAdornment"}),i=n.children,u=n.className,g=n.component,f=void 0===g?"div":g,w=n.disablePointerEvents,S=void 0!==w&&w,y=n.disableTypography,P=void 0!==y&&y,N=n.position,L=n.variant,k=(0,a.Z)(n,Z),A=(0,h.Z)()||{},C=L;L&&A.variant,A&&!C&&(C=A.variant);var I=(0,r.Z)({},n,{hiddenLabel:A.hiddenLabel,size:A.size,disablePointerEvents:S,position:N,variant:C}),E=function(e){var t=e.classes,n=e.disablePointerEvents,i=e.hiddenLabel,a=e.position,r=e.size,o=e.variant,s={root:["root",n&&"disablePointerEvents",a&&"position".concat((0,c.Z)(a)),o,i&&"hiddenLabel",r&&"size".concat((0,c.Z)(r))]};return(0,l.Z)(s,p,t)}(I);return(0,j.jsx)(m.Z.Provider,{value:null,children:(0,j.jsx)(b,(0,r.Z)({as:f,ownerState:I,className:(0,s.Z)(E.root,u),ref:t},k,{children:"string"!==typeof i||P?(0,j.jsxs)(o.Fragment,{children:["start"===N?x||(x=(0,j.jsx)("span",{className:"notranslate",children:"\u200b"})):null,i]}):(0,j.jsx)(d.Z,{color:"text.secondary",children:i})}))})}))}}]);
//# sourceMappingURL=2483.511e6a32.chunk.js.map