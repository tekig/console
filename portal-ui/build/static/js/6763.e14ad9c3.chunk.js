(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[6763],{59114:function(e,n,t){"use strict";var r=t(4942),i=t(1413),o=(t(72791),t(63466)),s=t(74900),a=t(27391),l=t(25787),c=t(11135),d=t(23814),u=t(80184);n.Z=(0,l.Z)((function(e){return(0,c.Z)({searchField:(0,i.Z)({},d.qg.searchField),adornment:{}})}))((function(e){var n=e.placeholder,t=void 0===n?"":n,i=e.classes,l=e.onChange,c=e.adornmentPosition,d=void 0===c?"end":c,h=e.overrideClass,g=e.value,p=(0,r.Z)({disableUnderline:!0},"".concat(d,"Adornment"),(0,u.jsx)(o.Z,{position:d,className:i.adornment,children:(0,u.jsx)(s.Z,{})}));return(0,u.jsx)(a.Z,{placeholder:t,className:h||i.searchField,id:"search-resource",label:"",InputProps:p,onChange:function(e){l(e.target.value)},variant:"standard",value:g})}))},96763:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return G}});var r=t(29439),i=t(1413),o=t(72791),s=t(95087),a=t(11135),l=t(25787),c=t(60364),d=t(4834),u=t(61889),h=t(68096),g=t(58406),p=t(23786),f=t(36151),x=t(72426),m=t.n(x),v=t(81207),j=t(63722),Z=t(26824),b=t(23814),y=t(32291),w=t(74794),S=t(59114),C=t(10703),L=t(79836),A=t(53382),P=t(39281),T=t(35855),M=t(53994),N=t(56125),R=t(64554),k=t(20890),_=t(46431),F=t.n(_),E=t(80184),O=function(e){return(0,E.jsx)("svg",(0,i.Z)((0,i.Z)({xmlns:"http://www.w3.org/2000/svg",className:"min-icon",fill:"currentcolor",viewBox:"0 0 26 26"},e),{},{children:(0,E.jsxs)("g",{id:"Group_2001","data-name":"Group 2001",transform:"translate(1924 369) rotate(180)",children:[(0,E.jsx)("rect",{id:"Rectangle_1114","data-name":"Rectangle 1114",width:"26",height:"26",transform:"translate(1898 343)",fill:"#e5e5e5"}),(0,E.jsx)("g",{id:"noun_chevron_2320228",transform:"translate(1915.2 353.499) rotate(90)",children:(0,E.jsx)("path",{id:"Path_6842","data-name":"Path 6842",d:"M.47,8a.464.464,0,0,1-.329-.141.468.468,0,0,1,0-.67L3.325,4.006.141.811a.468.468,0,0,1,0-.67.468.468,0,0,1,.67,0L4.335,3.665a.464.464,0,0,1,.141.329.427.427,0,0,1-.141.329L.811,7.847A.476.476,0,0,1,.47,8Z",transform:"translate(0 0)",fill:"#5e5e5e"})})]})}))},I=function(e){return(0,E.jsx)("svg",(0,i.Z)((0,i.Z)({xmlns:"http://www.w3.org/2000/svg",className:"min-icon",fill:"currentcolor",viewBox:"0 0 26 26"},e),{},{children:(0,E.jsxs)("g",{id:"Group_2476","data-name":"Group 2476",transform:"translate(-1898 -343)",children:[(0,E.jsx)("rect",{id:"Rectangle_1114","data-name":"Rectangle 1114",width:"26",height:"26",transform:"translate(1898 343)",fill:"#fbfafa"}),(0,E.jsx)("g",{id:"noun_chevron_2320228",transform:"translate(1915.2 353.499) rotate(90)",children:(0,E.jsx)("path",{id:"Path_6842","data-name":"Path 6842",d:"M.47,8a.464.464,0,0,1-.329-.141.468.468,0,0,1,0-.67L3.325,4.006.141.811a.468.468,0,0,1,0-.67.468.468,0,0,1,.67,0L4.335,3.665a.464.464,0,0,1,.141.329.427.427,0,0,1-.141.329L.811,7.847A.476.476,0,0,1,.47,8Z",transform:"translate(0 0)",fill:"#2781b0"})})]})}))},z=function(e){return(0,E.jsxs)("svg",(0,i.Z)((0,i.Z)({id:"WarnFilledIcon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12"},e),{},{className:"min-icon",fill:"currentcolor",children:[(0,E.jsx)("defs",{children:(0,E.jsx)("clipPath",{id:"clip-path",children:(0,E.jsx)("rect",{id:"Rectangle_987","data-name":"Rectangle 987",width:"12",height:"12"})})}),(0,E.jsx)("g",{id:"warning-icon-full",transform:"translate(-0.002 -0.003)",children:(0,E.jsx)("g",{id:"Group_2356","data-name":"Group 2356",transform:"translate(0.002 0.003)","clip-path":"url(#clip-path)",children:(0,E.jsx)("path",{id:"Path_7081","data-name":"Path 7081",d:"M6,0H6a6,6,0,1,0,6,6A6,6,0,0,0,6,0m.964,1.947L6.751,7.434H5.318L5.1,1.947ZM6.04,10.454a1.134,1.134,0,1,1,0-2.269,1.134,1.134,0,0,1,0,2.269",transform:"translate(-0.002 -0.003)"})})})]}))},B=function(e){var n=e.log,t=(0,o.useState)(!1),i=(0,r.Z)(t,2),s=i[0],a=i[1],l="";""!==n.ConsoleMsg?l=n.ConsoleMsg:null!==n.error&&""!==n.error.message&&(l=n.error.message);var c=l.replace(/\u2501|\u250f|\u2513|\u2503|\u2517|\u251b/g,"");c=c.replace(/([^\x20-\x7F])/g,"");var d=(0,E.jsx)(o.Fragment,{});""!==n.ConsoleMsg?d=function(e){var n=e.ConsoleMsg;return n=(n=n.replace(/\x1B/g," ")).replace(/((\[[0-9;]+m))/g,""),(0,E.jsx)("div",{style:{display:"table",tableLayout:"fixed",width:"100%",paddingLeft:10,paddingRight:10},children:(0,E.jsx)("div",{style:{display:"table-cell",whiteSpace:"nowrap",textOverflow:"ellipsis",overflowX:"auto"},children:(0,E.jsx)("pre",{children:n})})})}(n):null!==n.error&&""!==n.error.message&&(d=function(e){var n={color:"#C83B51",fontWeight:400,fontFamily:"monospace",fontSize:"12px"},t={fontFamily:"monospace",fontSize:"12px"};return(0,E.jsxs)(o.Fragment,{children:[(0,E.jsxs)("div",{children:[(0,E.jsx)("b",{style:t,children:"API:\xa0"}),(0,E.jsx)("span",{style:n,children:e.api.name})]}),(0,E.jsxs)("div",{children:[(0,E.jsx)("b",{style:t,children:"Time:\xa0"}),(0,E.jsx)("span",{style:n,children:e.time.toString()})]}),(0,E.jsxs)("div",{children:[(0,E.jsx)("b",{style:t,children:"DeploymentID:\xa0"}),(0,E.jsx)("span",{style:n,children:e.deploymentid})]}),(0,E.jsxs)("div",{children:[(0,E.jsx)("b",{style:t,children:"RequestID:\xa0"}),(0,E.jsx)("span",{style:n,children:e.requestID})]}),(0,E.jsxs)("div",{children:[(0,E.jsx)("b",{style:t,children:"RemoteHost:\xa0"}),(0,E.jsx)("span",{style:n,children:e.remotehost})]}),(0,E.jsxs)("div",{children:[(0,E.jsx)("b",{style:t,children:"UserAgent:\xa0"}),(0,E.jsx)("span",{style:n,children:e.userAgent})]}),(0,E.jsxs)("div",{children:[(0,E.jsx)("b",{style:t,children:"Error:\xa0"}),(0,E.jsx)("span",{style:n,children:e.error&&e.error.message})]}),(0,E.jsx)("br",{}),(0,E.jsx)("div",{children:(0,E.jsx)("b",{style:t,children:"Backtrace:\xa0"})}),e.error&&e.error.source.map((function(e,r){return(0,E.jsxs)("div",{children:[(0,E.jsxs)("b",{style:t,children:[r,":\xa0"]}),(0,E.jsx)("span",{style:n,children:e})]})}))]})}(n)),c=c.replace(/((\[[0-9;]+m))/g,"");var u=(0,E.jsx)(F(),{format:"YYYY/MM/DD UTC HH:mm:ss",children:n.time});return 1===n.time.getFullYear()&&(u=(0,E.jsx)(o.Fragment,{children:"n/a"})),(0,E.jsxs)(o.Fragment,{children:[(0,E.jsxs)(T.Z,{sx:{"& > *":{borderBottom:"unset"},cursor:"pointer",borderLeft:"0",borderRight:"0"},style:{backgroundColor:"#FDFDFD"},children:[(0,E.jsx)(M.Z,{onClick:function(){return a(!s)},style:{width:200,color:"#989898",fontSize:12},children:(0,E.jsxs)(R.Z,{sx:{"& .min-icon":{width:12,marginRight:1},fontWeight:"bold",lineHeight:1},children:[(0,E.jsx)(z,{}),u]})}),(0,E.jsx)(M.Z,{onClick:function(){return a(!s)},style:{width:200,color:"#989898",fontSize:12},children:(0,E.jsx)(R.Z,{sx:{"& .min-icon":{width:12,marginRight:1},fontWeight:"bold",lineHeight:1},children:n.errKind})}),(0,E.jsx)(M.Z,{onClick:function(){return a(!s)},children:(0,E.jsx)("div",{style:{display:"table",tableLayout:"fixed",width:"100%",paddingLeft:10,paddingRight:10},children:(0,E.jsx)("div",{style:{display:"table-cell",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},children:c})})}),(0,E.jsx)(M.Z,{onClick:function(){return a(!s)},style:{width:40},children:(0,E.jsx)(R.Z,{sx:{"& .min-icon":{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"2px"},"&:hover .min-icon":{fill:"#eaeaea"}},children:s?(0,E.jsx)(O,{}):(0,E.jsx)(I,{})})})]}),s?(0,E.jsxs)(T.Z,{children:[(0,E.jsx)(M.Z,{style:{paddingBottom:0,paddingTop:0,width:200,textTransform:"uppercase",verticalAlign:"top",textAlign:"right",color:"#8399AB",fontWeight:"bold"},children:(0,E.jsx)(N.Z,{in:s,timeout:"auto",unmountOnExit:!0,children:(0,E.jsx)("div",{style:{marginTop:10},children:"Log Details"})})}),(0,E.jsx)(M.Z,{colSpan:2,style:{paddingBottom:0,paddingTop:0},children:(0,E.jsx)(N.Z,{in:s,timeout:"auto",unmountOnExit:!0,children:(0,E.jsx)(R.Z,{sx:{margin:1},children:(0,E.jsx)(k.Z,{style:{background:"#efefef",border:"1px solid #dedede",padding:4,fontSize:14,color:"#666666"},children:d})})})}),(0,E.jsx)(M.Z,{style:{paddingBottom:0,paddingTop:0,width:40}})]}):null]},n.time.toString())},D=(0,l.Z)((function(e){return(0,a.Z)({root:{lineHeight:"50px","label + &":{marginTop:e.spacing(3)},"& .MuiSelect-select:focus":{backgroundColor:"transparent"}},input:{height:50,fontSize:13,lineHeight:"50px"}})}))(d.ZP),H=null,G=(0,c.$j)((function(e){return{messages:e.logs.logMessages,logsStarted:e.logs.logsStarted}}),{logMessageReceived:j.Qo,logResetMessages:j.i1,setLogsStarted:j.v0})((0,l.Z)((function(e){return(0,a.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({logList:{background:"#fff",minHeight:400,height:"calc(100vh - 200px)",overflow:"auto",fontSize:13,borderRadius:4},tab:{paddingLeft:25},logerror:{color:"#A52A2A"},logerror_tab:{color:"#A52A2A",paddingLeft:25},nodeField:{width:"100%"},ansidefault:{color:"#000"},midColumnCheckboxes:{display:"flex"},checkBoxLabel:{marginTop:10,fontSize:16,fontWeight:500},highlight:{"& span":{backgroundColor:"#082F5238"}}},b.OR),{},{actionsTray:(0,i.Z)((0,i.Z)({},b.OR.actionsTray),{},{marginBottom:0})},b.qg),b.o$),b.IX),(0,b.Bz)(e.spacing(4))))}))((function(e){var n=e.classes,t=e.logMessageReceived,i=e.logResetMessages,a=e.setLogsStarted,l=e.messages,c=e.logsStarted,d=(0,o.useState)(""),x=(0,r.Z)(d,2),j=x[0],b=x[1],T=(0,o.useState)([""]),M=(0,r.Z)(T,2),N=M[0],R=M[1],k=(0,o.useState)("all"),_=(0,r.Z)(k,2),F=_[0],O=_[1],I=(0,o.useState)("Select user agent"),z=(0,r.Z)(I,2),G=z[0],U=z[1],W=(0,o.useState)(["All User Agents"]),Y=(0,r.Z)(W,2),q=Y[0],X=Y[1],$=(0,o.useState)("all"),J=(0,r.Z)($,2),K=J[0],Q=J[1],V=(0,o.useState)(!1),ee=(0,r.Z)(V,2),ne=ee[0],te=ee[1],re=j.toLowerCase(),ie=l.filter((function(e){return(e.userAgent===G||"All User Agents"===G||"Select user agent"===G)&&(""===j||(e.ConsoleMsg.toLowerCase().indexOf(re)>=0||(!!(e.error&&e.error.source&&e.error.source.filter((function(e){return e.toLowerCase().indexOf(re)>=0})).length>0)||(!!(e.error&&e.error.message.toLowerCase().indexOf(re)>=0)||!!(e.api&&e.api.name.toLowerCase().indexOf(re)>=0)))))}));return(0,o.useEffect)((function(){te(!0),v.Z.invoke("GET","/api/v1/nodes").then((function(e){R(e),te(!1)})).catch((function(e){te(!1)}))}),[]),(0,E.jsxs)(o.Fragment,{children:[(0,E.jsx)(y.Z,{label:"Logs"}),(0,E.jsx)(w.Z,{children:(0,E.jsxs)(u.ZP,{container:!0,spacing:1,children:[(0,E.jsx)(u.ZP,{item:!0,xs:4,children:ne?(0,E.jsx)("h3",{children:" Loading nodes"}):(0,E.jsx)(h.Z,{variant:"outlined",className:n.nodeField,children:(0,E.jsxs)(g.Z,{id:"node",name:"node","data-test-id":"node-selector",value:F,onChange:function(e){O(e.target.value)},className:n.searchField,disabled:ne||c,input:(0,E.jsx)(D,{}),placeholder:"Select Node",children:[(0,E.jsx)(p.Z,{value:"all",children:"All Nodes"},"select-node-all"),N.map((function(e){return(0,E.jsx)(p.Z,{value:e,children:e},"select-node-name-".concat(e))}))]})})}),(0,E.jsx)(u.ZP,{item:!0,xs:3,children:(0,E.jsx)(h.Z,{variant:"outlined",className:n.nodeField,children:(0,E.jsxs)(g.Z,{id:"logType",name:"logType","data-test-id":"log-type",value:K,onChange:function(e){Q(e.target.value)},className:n.searchField,disabled:ne||c,input:(0,E.jsx)(D,{}),placeholder:"Select Log Type",children:[(0,E.jsx)(p.Z,{value:"all",children:"All Log Types"},"all-log-types"),(0,E.jsx)(p.Z,{value:"minio",children:"MinIO"},"minio-log-type"),(0,E.jsx)(p.Z,{value:"application",children:"Application"},"app-log-type")]})})}),(0,E.jsx)(u.ZP,{item:!0,xs:3,children:q.length>1&&(0,E.jsx)(h.Z,{variant:"outlined",className:n.nodeField,children:(0,E.jsxs)(g.Z,{id:"userAgent",name:"userAgent","data-test-id":"user-agent",value:G,onChange:function(e){U(e.target.value)},className:n.searchField,disabled:q.length<1||c,input:(0,E.jsx)(D,{}),children:[(0,E.jsx)(p.Z,{value:G,disabled:!0,children:"Select User Agent"},"select-user-agent-default"),q.map((function(e){return(0,E.jsx)(p.Z,{value:e,children:e},"select-user-agent-".concat(e))}))]})})}),(0,E.jsxs)(u.ZP,{item:!0,xs:2,textAlign:"right",children:[!c&&(0,E.jsx)(f.Z,{type:"submit",variant:"contained",color:"primary",disabled:!1,onClick:function(){i();var e=new URL(window.location.toString()),n=e.port,r=(0,Z.x2)(e.protocol);H=new s.w3cwebsocket("".concat(r,"://").concat(e.hostname,":").concat(n,"/ws/console/?logType=").concat(K,"&node=").concat("Select node"===F?"":F));var o=null;if(null!==H)return H.onopen=function(){console.log("WebSocket Client Connected"),a(!0),H.send("ok"),o=setInterval((function(){H.send("ok")}),1e4)},H.onmessage=function(e){var n=JSON.parse(e.data.toString());n.time=m()(n.time,"HH:mm:s UTC MM/DD/YYYY").toDate(),n.key=Math.random(),q.indexOf(n.userAgent)<0&&void 0!==n.userAgent&&(q.push(n.userAgent),X(q)),t(n)},H.onclose=function(){clearInterval(o),console.log("connection closed by server"),a(!1)},function(){H.close(1e3),clearInterval(o),console.log("closing websockets"),a(!1)}},children:"Start Logs"}),c&&(0,E.jsx)(f.Z,{type:"button",variant:"contained",color:"primary",onClick:function(){null!==H&&void 0!==H&&(H.close(1e3),a(!1))},children:"Stop Logs"})]}),(0,E.jsx)(u.ZP,{item:!0,xs:12,className:n.actionsTray,children:(0,E.jsx)(S.Z,{placeholder:"Filter",onChange:function(e){b(e)},value:j})}),(0,E.jsx)(u.ZP,{item:!0,xs:12,children:(0,E.jsx)("div",{id:"logs-container",className:n.logList,"data-test-id":"logs-list-container",children:(0,E.jsxs)(P.Z,{component:C.Z,children:[(0,E.jsx)(L.Z,{"aria-label":"collapsible table",children:(0,E.jsx)(A.Z,{children:ie.map((function(e){return(0,E.jsx)(B,{log:e})}))})}),0===ie.length&&(0,E.jsx)("div",{style:{padding:20,textAlign:"center"},children:"No logs to display"})]})})})]})})]})})))},26824:function(e,n,t){"use strict";t.d(n,{HE:function(){return o},V9:function(){return r},ci:function(){return i},x2:function(){return s}});var r=1006,i=1008,o=1011,s=function(e){var n="ws";return"https:"===e&&(n="wss"),n}},63466:function(e,n,t){"use strict";t.d(n,{Z:function(){return y}});var r=t(4942),i=t(63366),o=t(87462),s=t(72791),a=t(28182),l=t(90767),c=t(14036),d=t(20890),u=t(93840),h=t(52930),g=t(47630),p=t(95159);function f(e){return(0,p.Z)("MuiInputAdornment",e)}var x,m=(0,t(30208).Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),v=t(93736),j=t(80184),Z=["children","className","component","disablePointerEvents","disableTypography","position","variant"],b=(0,g.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,n["position".concat((0,c.Z)(t.position))],!0===t.disablePointerEvents&&n.disablePointerEvents,n[t.variant]]}})((function(e){var n=e.theme,t=e.ownerState;return(0,o.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:n.palette.action.active},"filled"===t.variant&&(0,r.Z)({},"&.".concat(m.positionStart,"&:not(.").concat(m.hiddenLabel,")"),{marginTop:16}),"start"===t.position&&{marginRight:8},"end"===t.position&&{marginLeft:8},!0===t.disablePointerEvents&&{pointerEvents:"none"})})),y=s.forwardRef((function(e,n){var t=(0,v.Z)({props:e,name:"MuiInputAdornment"}),r=t.children,g=t.className,p=t.component,m=void 0===p?"div":p,y=t.disablePointerEvents,w=void 0!==y&&y,S=t.disableTypography,C=void 0!==S&&S,L=t.position,A=t.variant,P=(0,i.Z)(t,Z),T=(0,h.Z)()||{},M=A;A&&T.variant,T&&!M&&(M=T.variant);var N=(0,o.Z)({},t,{hiddenLabel:T.hiddenLabel,size:T.size,disablePointerEvents:w,position:L,variant:M}),R=function(e){var n=e.classes,t=e.disablePointerEvents,r=e.hiddenLabel,i=e.position,o=e.size,s=e.variant,a={root:["root",t&&"disablePointerEvents",i&&"position".concat((0,c.Z)(i)),s,r&&"hiddenLabel",o&&"size".concat((0,c.Z)(o))]};return(0,l.Z)(a,f,n)}(N);return(0,j.jsx)(u.Z.Provider,{value:null,children:(0,j.jsx)(b,(0,o.Z)({as:m,ownerState:N,className:(0,a.Z)(R.root,g),ref:n},P,{children:"string"!==typeof r||C?(0,j.jsxs)(s.Fragment,{children:["start"===L?x||(x=(0,j.jsx)("span",{className:"notranslate",children:"\u200b"})):null,r]}):(0,j.jsx)(d.Z,{color:"text.secondary",children:r})}))})}))},39281:function(e,n,t){"use strict";t.d(n,{Z:function(){return f}});var r=t(87462),i=t(63366),o=t(72791),s=t(28182),a=t(90767),l=t(93736),c=t(47630),d=t(95159);function u(e){return(0,d.Z)("MuiTableContainer",e)}(0,t(30208).Z)("MuiTableContainer",["root"]);var h=t(80184),g=["className","component"],p=(0,c.ZP)("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:function(e,n){return n.root}})({width:"100%",overflowX:"auto"}),f=o.forwardRef((function(e,n){var t=(0,l.Z)({props:e,name:"MuiTableContainer"}),o=t.className,c=t.component,d=void 0===c?"div":c,f=(0,i.Z)(t,g),x=(0,r.Z)({},t,{component:d}),m=function(e){var n=e.classes;return(0,a.Z)({root:["root"]},u,n)}(x);return(0,h.jsx)(p,(0,r.Z)({ref:n,as:d,className:(0,s.Z)(m.root,o),ownerState:x},f))}))},94210:function(e){var n=function(){if("object"===typeof self&&self)return self;if("object"===typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};e.exports=function(){if(this)return this;if("object"===typeof globalThis&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return n()}try{return __global__||n()}finally{delete Object.prototype.__global__}}()},95087:function(e,n,t){var r;if("object"===typeof globalThis)r=globalThis;else try{r=t(94210)}catch(a){}finally{if(r||"undefined"===typeof window||(r=window),!r)throw new Error("Could not determine global this")}var i=r.WebSocket||r.MozWebSocket,o=t(51496);function s(e,n){return n?new i(e,n):new i(e)}i&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach((function(e){Object.defineProperty(s,e,{get:function(){return i[e]}})})),e.exports={w3cwebsocket:i?s:null,version:o}},51496:function(e,n,t){e.exports=t(19794).version},19794:function(e){"use strict";e.exports={version:"1.0.34"}}}]);
//# sourceMappingURL=6763.e14ad9c3.chunk.js.map