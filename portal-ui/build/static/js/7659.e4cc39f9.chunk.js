(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[7659,9478],{57314:function(e,t,n){"use strict";var i=n(1413),r=n(72791),a=n(61889),o=n(30829),s=n(20068),l=n(27391),c=n(11135),u=n(25787),f=n(23814),d=n(84570),p=n(80184);t.Z=(0,u.Z)((function(e){return(0,c.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},f.YI),f.Hr),{},{inputLabel:(0,i.Z)((0,i.Z)({},f.YI.inputLabel),{},{fontSize:14,margin:0,alignItems:"flex-start",paddingTop:"20px",flexWrap:"wrap",display:"flex"}),textBoxContainer:{flexGrow:1,position:"relative"},cssOutlinedInput:{borderColor:"#EAEAEA",padding:16},rootContainer:{"& .MuiOutlinedInput-inputMultiline":(0,i.Z)((0,i.Z)({},f.YI.inputLabel),{},{fontSize:13,minHeight:150}),"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#07193E",borderWidth:1},"& textarea":{color:"#07193E",fontSize:13,fontWeight:600,"&:placeholder":{color:"#858585",opacity:1,fontWeight:400}}}}))}))((function(e){var t=e.label,n=e.onChange,i=e.value,c=e.id,u=e.name,f=e.disabled,h=void 0!==f&&f,m=e.tooltip,x=void 0===m?"":m,v=e.index,g=void 0===v?0:v,Z=e.error,j=void 0===Z?"":Z,b=e.required,y=void 0!==b&&b,C=e.placeholder,N=void 0===C?"":C,w=e.classes,E={"data-index":g};return(0,p.jsx)(r.Fragment,{children:(0,p.jsxs)(a.ZP,{item:!0,xs:12,className:"".concat(w.fieldContainer," ").concat(""!==j?w.errorInField:""),children:[""!==t&&(0,p.jsxs)(o.Z,{htmlFor:c,className:w.inputLabel,children:[(0,p.jsxs)("span",{children:[t,y?"*":""]}),""!==x&&(0,p.jsx)("div",{className:w.tooltipContainer,children:(0,p.jsx)(s.Z,{title:x,placement:"top-start",children:(0,p.jsx)("div",{className:w.tooltip,children:(0,p.jsx)(d.Z,{})})})})]}),(0,p.jsx)("div",{className:w.textBoxContainer,children:(0,p.jsx)(l.Z,{id:c,name:u,fullWidth:!0,value:i,disabled:h,onChange:n,multiline:!0,rows:5,inputProps:E,error:""!==j,helperText:j,placeholder:N,InputLabelProps:{shrink:!0},InputProps:{classes:{notchedOutline:w.cssOutlinedInput,root:w.rootContainer}},variant:"outlined"})})]})})}))},67659:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var i=n(72791),r=n(26181),a=n.n(r),o=n(61889),s=n(58493),l=n(29439),c=n(1413),u=n(60364),f=n(11135),d=n(25787),p=n(40986),h=n(64554),m=n(36151),x=n(81207),v=n(29478),g=n(42649),Z=n(23814),j=n(51691),b=n(2148),y=n(93656),C=n(80184),N={setErrorSnackMessage:g.Ih},w=(0,u.$j)(null,N),E=(0,d.Z)((function(e){return(0,f.Z)((0,c.Z)({wrapText:{maxWidth:"200px",whiteSpace:"normal",wordWrap:"break-word"}},Z.Qw))}))(w((function(e){var t=e.classes,n=e.configurationName,r=e.closeResetModalAndRefresh,a=e.setErrorSnackMessage,o=e.resetOpen,s=(0,i.useState)(!1),c=(0,l.Z)(s,2),u=c[0],f=c[1];(0,i.useEffect)((function(){u&&x.Z.invoke("GET","/api/v1/configs/".concat(n,"/reset")).then((function(e){f(!1),r(!0)})).catch((function(e){f(!1),a(e)}))}),[r,n,u,a]);return(0,C.jsx)(b.Z,{title:"Restore Defaults",confirmText:"Yes, Reset Configuration",isOpen:o,titleIcon:(0,C.jsx)(y.Nv,{}),isLoading:u,onConfirm:function(){f(!0)},onClose:function(){r(!1)},confirmationContent:(0,C.jsxs)(i.Fragment,{children:[u&&(0,C.jsx)(p.Z,{}),(0,C.jsxs)(j.Z,{children:["Are you sure you want to restore these configurations to default values?",(0,C.jsx)("br",{}),(0,C.jsx)("b",{className:t.wrapText,children:"Please note that this may cause your system to not be accessible"})]})]})})}))),I={serverNeedsRestart:g.o8,setErrorSnackMessage:g.Ih},S=(0,u.$j)(null,I)((0,d.Z)((function(e){return(0,f.Z)((0,c.Z)((0,c.Z)((0,c.Z)({},Z.YI),Z.Je),{},{settingsFormContainer:{display:"grid",gridTemplateColumns:"1fr",gridGap:"10px"}}))}))((function(e){var t=e.serverNeedsRestart,n=e.selectedConfiguration,r=e.setErrorSnackMessage,c=e.classes,u=e.history,f=e.className,d=void 0===f?"":f,g=(0,i.useState)([]),Z=(0,l.Z)(g,2),j=Z[0],b=Z[1],y=(0,i.useState)(!1),N=(0,l.Z)(y,2),w=N[0],I=N[1],S=(0,i.useState)(!0),k=(0,l.Z)(S,2),T=k[0],P=k[1],R=(0,i.useState)([]),F=(0,l.Z)(R,2),O=F[0],W=F[1],A=(0,i.useState)(!1),M=(0,l.Z)(A,2),_=M[0],B=M[1];(0,i.useEffect)((function(){if(T){var e=a()(n,"configuration_id",!1);if(e)return void x.Z.invoke("GET","/api/v1/configs/".concat(e)).then((function(e){var t=a()(e,"key_values",[]);W(t),P(!1)})).catch((function(e){P(!1),r(e)}));P(!1)}}),[T,n,r]),(0,i.useEffect)((function(){if(w){var e={key_values:(0,s.DD)(j)};x.Z.invoke("PUT","/api/v1/configs/".concat(n.configuration_id),e).then((function(e){I(!1),t(e.restart),u.push("/settings")})).catch((function(e){I(!1),r(e)}))}}),[w,u,t,n,j,r]);var D=(0,i.useCallback)((function(e){b(e)}),[b]);return(0,C.jsxs)(i.Fragment,{children:[_&&(0,C.jsx)(E,{configurationName:n.configuration_id,closeResetModalAndRefresh:function(e){B(!1),t(e),e&&P(!0)},resetOpen:_}),T?(0,C.jsx)(o.ZP,{item:!0,xs:12,children:(0,C.jsx)(p.Z,{})}):(0,C.jsx)(h.Z,{sx:{padding:"15px",height:"100%"},children:(0,C.jsxs)("form",{noValidate:!0,onSubmit:function(e){e.preventDefault(),I(!0)},className:d,style:{height:"100%",display:"flex",flexFlow:"column"},children:[(0,C.jsx)(o.ZP,{item:!0,xs:12,className:c.settingsFormContainer,children:(0,C.jsx)(v.default,{fields:s.DP[n.configuration_id],onChange:D,defaultVals:O})}),(0,C.jsxs)(o.ZP,{item:!0,xs:12,sx:{paddingTop:"15px ",textAlign:"right",maxHeight:"60px",display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[(0,C.jsx)(m.Z,{type:"button",variant:"outlined",color:"secondary",sx:{padding:{xs:"3px",md:"20px"}},onClick:function(){B(!0)},children:"Restore Defaults"}),"\xa0 \xa0",(0,C.jsx)(m.Z,{type:"submit",variant:"contained",color:"primary",disabled:w,children:"Save"})]})]})})]})}))),k=function(e){var t=e.match,n=e.history,i=a()(t,"url",""),r=i.substring(i.lastIndexOf("/")+1),l=s.bx.find((function(e){return e.configuration_id===r})),c="".concat(r);return(0,C.jsx)(o.ZP,{item:!0,xs:12,sx:{height:"100%","& .identity_ldap, .api":{"& label":{minWidth:220,marginRight:0}}},children:l&&(0,C.jsx)(S,{className:"".concat(c),selectedConfiguration:l,history:n})})}},29478:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w},valueDef:function(){return N}});var i=n(93433),r=n(29439),a=n(1413),o=n(72791),s=n(11135),l=n(25787),c=n(61889),u=n(23814),f=n(21435),d=n(26181),p=n.n(d),h=n(48573),m=n.n(h),x=n(30829),v=n(20068),g=n(84570),Z=n(47919),j=n(80184),b=(0,l.Z)((function(e){return(0,s.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},u.YI),u.Hr),{},{inputWithBorder:{border:"1px solid #EAEAEA",padding:15,height:150,overflowY:"auto",position:"relative",marginTop:15,flex:1},inputBoxSpacer:{marginBottom:7},inputLabel:(0,a.Z)((0,a.Z)({},u.YI.inputLabel),{},{margin:0,alignItems:"flex-start",paddingTop:"20px",minWidth:162})}))}))((function(e){var t=e.elements,n=e.name,a=e.label,s=e.tooltip,l=void 0===s?"":s,u=e.commonPlaceholder,d=void 0===u?"":u,h=e.onChange,b=e.withBorder,y=void 0!==b&&b,C=e.classes,N=(0,o.useState)([""]),w=(0,r.Z)(N,2),E=w[0],I=w[1],S=(0,o.createRef)();(0,o.useEffect)((function(){if(1===E.length&&""===E[0]&&t&&""!==t){var e=t.split(",");e.push(""),I(e)}}),[t,E]),(0,o.useEffect)((function(){if(E.length>1){var e=S.current;e&&e.scrollIntoView(!1)}}),[E,S]);var k=(0,o.useRef)(!0);(0,o.useLayoutEffect)((function(){k.current?k.current=!1:P()}),[E]);var T=function(e){e.persist();var t=(0,i.Z)(E);t[p()(e.target,"dataset.index",0)]=e.target.value,I(t)},P=m()((function(){var e=E.filter((function(e){return""!==e.trim()})).join(",");h(e)}),500),R=E.map((function(e,t){return(0,j.jsx)("div",{className:C.inputBoxSpacer,children:(0,j.jsx)(f.Z,{id:"".concat(n,"-").concat(t.toString()),label:"",name:"".concat(n,"-").concat(t.toString()),value:E[t],onChange:T,index:t,placeholder:d,overlayIcon:t===E.length-1?(0,j.jsx)(Z.Z,{}):null,overlayAction:function(){!function(e){if(""!==e[e.length-1].trim()){var t=(0,i.Z)(e);t.push(""),I(t)}}(E)}},"csv-".concat(n,"-").concat(t.toString()))})}));return(0,j.jsx)(o.Fragment,{children:(0,j.jsxs)(c.ZP,{item:!0,xs:12,className:C.fieldContainer,children:[(0,j.jsxs)(x.Z,{className:C.inputLabel,children:[(0,j.jsx)("span",{children:a}),""!==l&&(0,j.jsx)("div",{className:C.tooltipContainer,children:(0,j.jsx)(v.Z,{title:l,placement:"top-start",children:(0,j.jsx)("div",{className:C.tooltip,children:(0,j.jsx)(g.Z,{})})})})]}),(0,j.jsxs)(c.ZP,{item:!0,xs:12,className:"".concat(y?C.inputWithBorder:""),children:[R,(0,j.jsx)("div",{ref:S})]})]})})})),y=n(57314),C=n(37516),N=function(e,t,n){var i="on|off"===t?"false":"";if(n.length>0){var r=n.find((function(t){return t.key===e}));r&&(i=r.value)}return i},w=(0,l.Z)((function(e){return(0,s.Z)((0,a.Z)((0,a.Z)({},u.DF),{},{formFieldRow:(0,a.Z)({},u.DF.formFieldRow)},u.oO))}))((function(e){var t=e.onChange,n=e.fields,a=e.defaultVals,s=e.classes,l=(0,o.useState)([]),u=(0,r.Z)(l,2),d=u[0],p=u[1],h=n||[],m=a||[];(0,o.useEffect)((function(){var e=[];n.forEach((function(t){var n={key:t.name,value:N(t.name,t.type,m)};e.push(n)})),p(e)}),[n,a]),(0,o.useEffect)((function(){t(d)}),[d]);var x=function(e,t,n){var r=(0,i.Z)(d);r[n]={key:e,value:t},p(r)},v=function(e,t){switch(e.type){case"on|off":var n=d[t]?d[t].value:"false";return(0,j.jsx)(C.Z,{onChange:function(n){var i=n.target.checked?"true":"false";x(e.name,i,t)},id:e.name,name:e.name,label:e.label,value:"switch_on",tooltip:e.tooltip,checked:"true"===n});case"csv":return(0,j.jsx)(b,{elements:d[t]?d[t].value:"",label:e.label,name:e.name,onChange:function(n){return x(e.name,n,t)},tooltip:e.tooltip,commonPlaceholder:e.placeholder,withBorder:!0});case"comment":return(0,j.jsx)(y.Z,{id:e.name,name:e.name,label:e.label,tooltip:e.tooltip,value:d[t]?d[t].value:"",onChange:function(n){return x(e.name,n.target.value,t)},placeholder:e.placeholder});default:return(0,j.jsx)(f.Z,{id:e.name,name:e.name,label:e.label,tooltip:e.tooltip,value:d[t]?d[t].value:"",onChange:function(n){return x(e.name,n.target.value,t)},multiline:!!e.multiline,placeholder:e.placeholder})}};return(0,j.jsx)(c.ZP,{container:!0,children:(0,j.jsx)(c.ZP,{xs:12,item:!0,className:s.fieldBox,children:h.map((function(e,t){return(0,j.jsx)(c.ZP,{item:!0,xs:12,className:s.formFieldRow,children:v(e,t)},e.name)}))})})}))},20821:function(e,t,n){var i=n(26050),r=/^\s+/;e.exports=function(e){return e?e.slice(0,i(e)+1).replace(r,""):e}},26050:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},48573:function(e,t,n){var i=n(8092),r=n(50072),a=n(42582),o=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,u,f,d,p,h=0,m=!1,x=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var n=l,i=c;return l=c=void 0,h=t,f=e.apply(i,n)}function Z(e){return h=e,d=setTimeout(b,t),m?g(e):f}function j(e){var n=e-p;return void 0===p||n>=t||n<0||x&&e-h>=u}function b(){var e=r();if(j(e))return y(e);d=setTimeout(b,function(e){var n=t-(e-p);return x?s(n,u-(e-h)):n}(e))}function y(e){return d=void 0,v&&l?g(e):(l=c=void 0,f)}function C(){var e=r(),n=j(e);if(l=arguments,c=this,p=e,n){if(void 0===d)return Z(p);if(x)return clearTimeout(d),d=setTimeout(b,t),g(p)}return void 0===d&&(d=setTimeout(b,t)),f}return t=a(t)||0,i(n)&&(m=!!n.leading,u=(x="maxWait"in n)?o(a(n.maxWait)||0,t):u,v="trailing"in n?!!n.trailing:v),C.cancel=function(){void 0!==d&&clearTimeout(d),h=0,l=p=c=d=void 0},C.flush=function(){return void 0===d?f:y(r())},C}},50072:function(e,t,n){var i=n(97009);e.exports=function(){return i.Date.now()}},42582:function(e,t,n){var i=n(20821),r=n(8092),a=n(70152),o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):o.test(e)?NaN:+e}}}]);
//# sourceMappingURL=7659.e4cc39f9.chunk.js.map